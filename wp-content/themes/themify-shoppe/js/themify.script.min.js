'use strict';(function(a){function z(b,d,e){Themify.infinity(b,{append:d,scrollToNewOnLoad:themifyScript.scrollToNewOnLoad,scrollThreshold:"auto"!==themifyScript.autoInfinite?!1:680>Themify.w&&0<a("#sidebar").length?a("#sidebar").height()+a("#footerwrap").height():a("#footerwrap").height(),button:a("#load-more a")[0],history:e||!themifyScript.infiniteURL?!1:"replace"})}var h={headerHeight:0,hasHeaderSlider:!1,headerSlider:!1,$headerWrap:a("#headerwrap"),$pageWrap:a("#pagewrap"),init:function(){Themify.body.hasClass("revealing-header")&&
this.headerRevealing();Themify.body.hasClass("fixed-header")&&(this.headerHeight=this.$headerWrap.outerHeight(!0),this.activate(),a(window).on("scroll touchstart.touchScroll touchmove.touchScroll",this.activate));a(window).on("tfsmartresize",function(){h.$pageWrap.css("paddingTop",Math.floor(h.$headerWrap.outerHeight(!0)))});0<a("#gallery-controller").length&&(this.hasHeaderSlider=!0);if(themifyScript.sticky_header){var b='<img id="sticky_header_logo" src="'+themifyScript.sticky_header.src+'"';themifyScript.sticky_header.imgwidth&&
(b+=' width="'+themifyScript.sticky_header.imgwidth+'"');themifyScript.sticky_header.imgheight&&(b+=' height="'+themifyScript.sticky_header.imgheight+'"');b+="/>";a("#site-logo a").prepend(b)}},activate:function(){a(window).scrollTop()>=h.headerHeight?h.$headerWrap.hasClass("fixed-header")||h.scrollEnabled():h.$headerWrap.hasClass("fixed-header")&&h.scrollDisabled()},headerRevealing:function(){var b="down",d=0,e=this,f=function(){d!==window.scrollY&&(b=d<window.scrollY?"down":"up",d=window.scrollY,
"up"===b||0===d?e.$headerWrap.hasClass("hidden")&&e.$headerWrap.css("top","").removeClass("hidden"):0<d&&!e.$headerWrap.hasClass("hidden")&&e.$headerWrap.css("top",-e.$headerWrap.outerHeight()).addClass("hidden"))};a(window).on("scroll touchstart.touchScroll touchmove.touchScroll",f);f()},scrollDisabled:function(){var b=h;b.$headerWrap.removeClass("fixed-header");a("#header").removeClass("header-on-scroll");Themify.body.removeClass("fixed-header-on");b.$headerWrap.hide();b.$headerWrap[0].offsetHeight;
b.$headerWrap.show();b.headerHeight=b.$headerWrap.outerHeight(!0);b.$pageWrap.css("paddingTop",Math.floor(b.headerHeight))},scrollEnabled:function(){h.$headerWrap.addClass("fixed-header");a("#header").addClass("header-on-scroll");Themify.body.addClass("fixed-header-on")}};a(function(){var b=Themify.body;h.init();null!==document.querySelector(".has-mega-sub-menu")&&Themify.LoadAsync(themifyScript.theme_url+"/themify/megamenu/js/themify.mega-menu.js",null,null,null,function(){return"undefined"!==typeof a.fn.ThemifyMegaMenu});
Themify.isoTop(".masonry.loops-wrapper",{itemSelector:".loops-wrapper > .post,.loops-wrapper > .product"});if(null!==document.querySelector(".wpf_form")){var d=a(".infinite.loops-wrapper.products")[0];z(d,".infinite.loops-wrapper .product",!0);a(document).on("wpf_ajax_success yith-wcan-ajax-filtered",function(){var c=a(".infinite.loops-wrapper.products").first();if(c.length){if(void 0!==window.Isotope){var b=window.Isotope.data(d);b&&(delete b.options[b.options.layoutMode],c[0].classList.contains("masonry-done")&&
(c[0].classList.remove("masonry-done"),window.Isotope.data(c[0]).destroy()),Themify.isoTop(c[0],b.options))}Themify.media(c[0].querySelectorAll(".wp-audio-shortcode, .wp-video-shortcode"));c[0].classList.contains("auto_tiles")&&Themify.autoTiles(c[0]);c.triggerHandler("infiniteloaded.themify",[c]);Themify.body.triggerHandler("infiniteloaded.themify",[c,c]);Themify.InitGallery(c);Themify.body.triggerHandler("builder_load_module_partial",[c])}})}else z(a(".infinite.loops-wrapper"),".infinite.loops-wrapper .post, .infinite.loops-wrapper .product");
var e=function(c){(function(c){0<a("#addon-shopdock").length&&0<a(".overlay.loops-wrapper, .polaroid.loops-wrapper, .auto_tiles.loops-wrapper",c).length&&a("li.product").each(function(){a(this).append(a(this).find(".add_to_cart_button"))})})(c)};if(Themify.is_builder_active)if(Themify.is_builder_loaded)e();else window.top.jQuery("body").one("themify_builder_ready",function(){e()});else e();var f=a("#search-lightbox-wrap");if(0<f.length){var n=[],l,q=f.find("#searchform input"),g=f.find(".search-results-wrap");
a(".search-button, #close-search-box").on("click",function(c){c.preventDefault();q.val().length?f.addClass("search-active"):f.removeClass("search-active");a(this).hasClass("search-button")?(f.fadeIn(function(){q.focus();b.css("overflow-y","hidden")}),b.addClass("searchform-slidedown")):(l&&l.abort(),f.fadeOut(),b.css("overflow-y","visible").removeClass("searchform-slidedown"))});g.on("click",".search-option-tab a",function(c){c.preventDefault();c=a(this).attr("href").replace("#","");"all"===c?c="item":
g.find(".result-item").stop().fadeOut();0<a("#result-link-"+c).length&&(a(".view-all-button").hide(),a("#result-link-"+c).show());g.find(".result-"+c).stop().fadeIn();a(this).closest("li").addClass("active").siblings("li").removeClass("active")});q.prop("autocomplete","off").on("keyup",function(c){function b(a){0>a&&(a=0);g.find(".search-option-tab li").eq(a).children("a").click();g.show()}0<q.val().length?f.addClass("search-active"):f.removeClass("search-active");if(48<=c.keyCode&&57>=c.keyCode||
65<=c.keyCode&&90>=c.keyCode||8===c.keyCode){var d=a.trim(a(this).val());d?n[d]?(c=g.find(".search-option-tab li.active").index(),g.hide().html(n[d]),b(c)):setTimeout(function(){d=a.trim(q.val());l&&l.abort();d?l=a.ajax({url:themifyScript.ajax_url,type:"POST",data:{action:"themify_search_autocomplete",term:d},beforeSend:function(){f.addClass("themify-loading");g.html('<span class="themify_spinner"></span>')},complete:function(){f.removeClass("themify-loading")},success:function(a){if(!d)g.html("");
else if(a){var c=g.find(".search-option-tab li.active").index();g.hide().html(a);b(c);g.find(".search-option-tab li.active");n[d]=a}}}):g.html("")},100):g.html("")}})}a(".back-top a").on("click",function(a){Themify.scrollTo();a.preventDefault()});var k=a(".back-top");if(0<k.length&&k.hasClass("back-top-float"))a(window).on("scroll touchstart.touchScroll touchmove.touchScroll",function(){10>window.scrollY?k.addClass("back-top-hide"):k.removeClass("back-top-hide")});(function(){var c=a(".toggle-sticky-sidebar"),
b=a("#sidebar");c.on("click",function(){c.hasClass("open-toggle-sticky-sidebar")?(c.removeClass("open-toggle-sticky-sidebar").addClass("close-toggle-sticky-sidebar"),b.addClass("open-mobile-sticky-sidebar")):(c.removeClass("close-toggle-sticky-sidebar").addClass("open-toggle-sticky-sidebar"),b.removeClass("open-mobile-sticky-sidebar"))})})();a("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:b.hasClass("header-minbar-left")||b.hasClass("header-left-pane")||b.hasClass("header-slide-left")?
"left":"right"});Themify.LoadAsync(themify_vars.url+"/js/themify.dropdown.js",function(){a("#main-nav").themifyDropdown()},null,null,function(){return"undefined"!==typeof a.fn.themifyDropdown});if(!Themify.isTouch){var w=a(".top-icon-wrap #cart-list"),r=b.is(".header-minbar-left,.header-minbar-right,.header-overlay,.header-slide-right,.header-slide-left")?a("#mobile-menu"):b.is(".header-left-pane,.header-right-pane")?a("#headerwrap"):!1;(r&&0<r.length||0<w.length)&&Themify.LoadAsync(themifyScript.theme_url+
"/js/jquery.nicescroll.min.js",function(){0<w.length&&(w.niceScroll(),setTimeout(function(){w.getNiceScroll().resize()},200));r&&(r.niceScroll(),b.on("sidemenushow.themify",function(){setTimeout(function(){r.getNiceScroll().resize()},200)}))},null,null,function(){return"undefined"!==typeof a.fn.niceScroll})}var p=void 0!=themifyScript.m_m_expand?" toggle-on":"";a("#main-nav > li.menu-item-has-children > a, #main-nav > li.page_item_has_children > a").after("<span class='child-arrow"+p+"'></span>");
a("#main-nav ul li.menu-item-has-children > a, #main-nav ul li.page_item_has_children > a").after("<span class='child-arrow'></span>");a("#main-nav .child-arrow,#main-nav a").on("click",function(c){var b=!0,d=a(this);"A"===this.tagName&&(("#"===d.attr("href")||0<d.parent(".themify_toggle_dropdown").length)&&0<d.next(".child-arrow").length?d=d.next(".child-arrow"):b=!1);b&&(c.preventDefault(),void 0!=themifyScript.m_m_toggle&&d.closest("li").siblings().find(".toggle-on").toggleClass("toggle-on"),d.toggleClass("toggle-on"))});
if(b.hasClass("header-left-pane")||b.hasClass("header-right-pane")){p=a(".top-icon-wrap, .search-button");var x=a("#mobile-menu");a(x).prepend(a('<div class="header-icons"></div>'));a(".header-icons").append(p)}b.hasClass("header-overlay")&&(a(".search-button").appendTo(".top-icon-wrap"),a("#mobile-menu").wrapInner('<div class="overlay-menu-sticky"><div class="overlay-menu-sticky-inner"></div></div>'));(function(c,d){if(c.length&&d.length&&!b.is(".header-left-pane, .header-right-pane, .header-minbar-left, .header-minbar-right")){var f=
c.clone(),e=a("#shopdock"),g=e.clone(),n=a("#slide-cart").length,h=e.attr("id"),l=h+"_",k=function(){f.is(":visible")?(e.attr("id",l).hide(),g.attr("id",h).show()):(e.attr("id",h).show(),g.attr("id",l).hide())};f.addClass("icon-menu").find(".tooltip").remove().end().insertBefore(d).wrap('<div id="cart-link-mobile" />');!n&&a("#cart-link-mobile").append(g);f.on("click",function(a){b.hasClass("cart-style-link_to_cart")||(a.preventDefault(),c.is("#cart-link")&&c.trigger("click"))});n||(k(),a(window).on("tfsmartresize",
k))}})(a("#cart-icon-count > a"),a("#menu-icon"));if(b.hasClass("header-bottom")&&(a("#footer").after("<a class='footer-tab' href='#'></a>"),a(".footer-tab").click(function(b){b.preventDefault();a("#footerwrap").toggleClass("expanded")}),a("#footer .back-top").detach().appendTo("#pagewrap"),a(".back-top").addClass("back-top-float back-top-hide"),k=a(".back-top"),0<k.length&&k.hasClass("back-top-float")))a(window).on("scroll touchstart.touchScroll touchmove.touchScroll",function(){10>window.scrollY?
k.addClass("back-top-hide"):k.removeClass("back-top-hide")});a("input, textarea").on("focus",function(){a(this).parents("#commentform p").addClass("focused")}).on("blur",function(){""==a(this).val()?a(this).removeClass("filled").parents("#commentform p").removeClass("focused"):a(this).addClass("filled")});var t=a('<div class="body-overlay">');b.append(t).on("sidemenushow.themify",function(){t.addClass("body-overlay-on")}).on("sidemenuhide.themify",function(){t.removeClass("body-overlay-on")}).on("click.themify touchend.themify",
".body-overlay",function(){a("#menu-icon").themifySideMenu("hide");a(".top-icon-wrap #cart-link").themifySideMenu("hide")});var A=function(){var b=a("#main-nav li.has-mega-column > ul, #main-nav li.has-mega-sub-menu > .mega-sub-menu");a(window).width()>tf_mobile_menu_trigger_point?b.css("width",a("#header").width()):b.removeAttr("style")};A();a(".top-bar-widgets").clone().insertBefore("#menu-icon-close");a(window).on("tfsmartresize",function(){a("#mobile-menu").hasClass("sidemenu-on")&&a("#menu-icon").is(":visible")?
t.addClass("body-overlay-on"):t.removeClass("body-overlay-on");0<a(".top-bar-widgets").height()&&(b.hasClass("header-minbar-left")&&(a("#headerwrap, .search-button, .top-icon-wrap, .logo-wrap").css("left",a(".top-bar-widgets").height()),a("#menu-icon").css("left",a(".top-bar-widgets").height()+(a(".logo-wrap").height()-a("#menu-icon").width())/2),b.css("marginLeft",a(".top-bar-widgets").height())),b.hasClass("header-minbar-right")&&(a("#headerwrap, .search-button, .top-icon-wrap").css("right",a(".top-bar-widgets").height()),
a("#menu-icon").css("right",a(".top-bar-widgets").height()+(a(".logo-wrap").height()-a("#menu-icon").width())/2),b.css("marginRight",a(".top-bar-widgets").height())));A()});if(b.hasClass("revealing-footer")){var y,m=a("#footerwrap"),B=m.find("#footer"),u=m.innerHeight(),v=a("#body");x=function(){u=m.innerHeight();!C&&m.parent().css("padding-bottom",u)};var D=function(){var a=v.get(0).getBoundingClientRect(),b=window.innerHeight-a.bottom;m.toggleClass("active-revealing",0>a.top);0<=b&&b<=u?B.css("opacity",
b/u+.2):b>u&&B.css("opacity",1)};if(m.length||v.length){p=v.parents();p.length&&v.add(p).each(function(){if(!y){var b=a(this).css("background-color");b&&"transparent"!==b&&"rgba(0, 0, 0, 0)"!==b&&(y=b)}});v.css("background-color",y||"#ffffff");var C="sticky"===m.css("position");b.toggleClass("no-css-sticky",!C);x();D();a(window).on("tfsmartresize",x).on("scroll",D)}}});a(window).one("load",function(){function b(){var b=!0,h=d.hasClass("fixed-header");h&&d.removeClass("fixed-header");e.each(function(f){var e=
a(this).data("fullwidthvideo");e&&(f={url:e,doLoop:!0,ambient:!0,id:f},b&&h&&(b=!1,f.onload=function(){d.addClass("fixed-header")}),a(this).ThemifyBgVideo(f))})}"undefined"!==typeof ThemifyGallery&&ThemifyGallery.init({context:a(themifyScript.lightboxContext)});var d=a("#headerwrap"),e=d.find("[data-fullwidthvideo]");d.data("fullwidthvideo")&&(e=e.add(d));0<e.length&&(Themify.isTouch?e.each(function(b){var d=a(this).data("fullwidthvideo");d&&0<=d.indexOf(".mp4")&&0<=d.indexOf(window.location.hostname)&&
(a(this).addClass("themify-responsive-video-background"),b=a('<div class="header-video-wrap"><video class="responsive-video header-video video-'+b+'" muted="true" autoplay="true" loop="true" playsinline="true" ><source src="'+d+'" type="video/mp4"></video></div>'),b.prependTo(a(this)))}):"undefined"===typeof a.fn.ThemifyBgVideo?Themify.LoadAsync(themify_vars.url+"/js/bigvideo.js",b,null,null,function(){return"undefined"!==typeof a.fn.ThemifyBgVideo}):b());a("#main-nav li").on("mouseenter mouseleave",
function(b){a("ul",this).length&&(b=a("ul:first",this),b.offset().left+b.width()<=a(window).width()?a(this).removeClass("edge"):a(this).addClass("edge"))})}).on("load tfsmartresize",function(b){b=a(window).width();var d=Themify.body;if(d.hasClass("header-logo-center"))1183<b?(b=a(window).width()/2-a("#site-logo").width()/2,a("#main-nav").css("max-width",b)):a("#main-nav").removeAttr("style");else if(d.hasClass("header-slide-right")||d.hasClass("header-slide-left")){d=a(".top-icon-wrap, .search-button");
var e=a("#mobile-menu"),f=a("#main-nav-wrap");b>tf_mobile_menu_trigger_point?e.before(d):f.before(d)}})})(jQuery);
