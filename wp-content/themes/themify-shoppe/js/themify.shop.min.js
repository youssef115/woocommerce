'use strict';(function(a){a(function(){function w(){a(document).on("submit","form.cart",function(b){if(!a(this).closest(".product-type-external").length){if(-1<window.location.search.indexOf("switch-subscription"))return this;b.preventDefault();b=new FormData(this);0===a(this).find('input[name="add-to-cart"]').length&&b.append("add-to-cart",a(this).find('[name="add-to-cart"]').val());b.append("action","theme_add_to_cart");a("body").trigger("adding_to_cart",[a(this).find('[type="submit"]'),b]);var c,
d=a.ajaxSettings.xhr,h=window.location.href;a.ajaxSettings.xhr=function(){return c=d()};a.ajax({url:woocommerce_params.ajax_url,type:"POST",data:b,contentType:!1,cache:!1,processData:!1,success:function(b){if(b)if(themifyShop.redirect)window.location.href=themifyShop.redirect;else if(b.fragments||h===c.responseURL){var d=b.fragments;b=b.cart_hash;d&&a.each(d,function(b,c){a(b).addClass("updating").replaceWith(c)});a("body").trigger("added_to_cart",[d,b])}else window.location.href=c.responseURL}})}})}
function x(b){a("a.variable-link",b).each(function(){a(this).magnificPopup({type:"ajax",callbacks:{updateStatus:function(c){a(".mfp-content").addClass("themify_product_ajax themify_variable_product_ajax");t(b)}}})})}function u(b){0<a("a.variable-link",b).length&&(Themify.LoadCss(themify_vars.url+"/css/lightbox.css",null),Themify.LoadAsync(themify_vars.url+"/js/lightbox.min.js",function(){x(b);return"undefined"!==typeof a.fn.magnificPopup}))}function k(){a.fn.zoom&&a(".woocommerce-main-image.zoom img").trigger("zoom.destroy")}
function m(b,c){var d=b.find(".product_zoom"),h=b.find("img:not(.zoomImg)"),f=function(){d.off("click.runZoom").one("click.runZoom",function(f){f.preventDefault();f.stopImmediatePropagation();var g=a(this);b.addClass("zoom_progress");g.after('<span class="themify_spinner"></span>');b.prop("href","javascript:void(0)");b.zoom({on:"click",url:c||b.data("zoom-image"),callback:function(){g.next(".themify_spinner").remove();b.removeClass("zoom_progress").trigger("click.zoom");a(this).css({top:-(a(this).height()/
2)+120,left:-(a(this).width()/2)+120})},onZoomIn:function(){g.addClass("zoomed")},onZoomOut:function(){d.removeClass("zoomed")}}).trigger("click.zoom")})};d.length||(d=a('<span class="product_zoom"></span>').prependTo(b));f();"MutationObserver"in window&&h.length&&(new MutationObserver(function(a){if(a=a[0].target)c=a.src,k(),f()})).observe(h.get(0),{attributes:!0,attributeFilter:["src"]})}function n(){function b(){a(".woocommerce-main-image.zoom").each(function(){var b=a(this);m(b)})}a.fn.zoom?b():
Themify.LoadAsync(themifyShop.theme_url+"/js/jquery.zoom.min.js",b,themifyShop.version,null,function(){return"undefined"!==typeof a.fn.zoom})}function t(b){var c=a(".variations_form",b);if(c.length){if("undefined"===typeof d)var d=themifyShop.variations_text;"undefined"!==typeof a.fn.wc_variation_form?c.wc_variation_form():Themify.LoadAsync(themify_vars.includesURL+"js/underscore.min.js",function(){Themify.LoadAsync(themify_vars.includesURL+"js/wp-util.min.js",function(){Themify.LoadAsync(themifyShop.wc_variation_url,
function(){c.wc_variation_form()},themifyShop.wc_version,null,function(){return"undefined"!==typeof a.fn.wc_variation_form})},null,null,function(){return"undefined"!==typeof window._wpUtilSettings})},null,null,function(){return"undefined"!==typeof window._})}}var e=Themify.body;window.top.jQuery("body").one("themify_builder_ready",function(){0<a(".products.loops-wrapper").length&&e.addClass("woocommerce woocommerce-page")});0<a(".products.loops-wrapper").length&&e.addClass("woocommerce woocommerce-page");
var l=a(".images img").first().prop("src");e.on("woocommerce_update_variation_values",".variations_form",function(b){0<a(".swiper-wrapper").length&&setTimeout(function(){var b=a(".swiper-wrapper img").first().prop("src");b!==l&&(l=b,a(".product-images-carousel img").first().data("zoom-image",l),a(".thumbnails img").first().prop("src",l),window.tb_product_slider&&window.tb_product_slider.slideTo(0,1E3,!1))},100)});if("object"===typeof a.wc_additional_variation_images_frontend){var y=function(b){b=
a(b).find("img");if(b.length){var c="",d="";a(".product-images-carousel, .product-thumbnails-carousel").remove();c=a('<div class="swiper-container"><div class="swiper-wrapper"></div></div>').addClass("product-images-carousel").appendTo(".woocommerce-product-gallery__wrapper");d=a('<div class="swiper-container"><div class="swiper-wrapper"></div></div>').addClass("product-thumbnails-carousel").appendTo(".woocommerce-product-gallery__wrapper");b.each(function(b){var f=a(this),g=a('<div data-zoom-image="'+
f.attr("data-large_image")+'" class="swiper-slide woocommerce-main-image woocommerce-product-gallery__image zoom post-image"></div>');0===b?g.append(this.outerHTML):g.append('<div class="default_img" style="width:'+f.attr("width")+'px; " data-width="'+f.attr("width")+'" data-height="'+f.attr("height")+'" data-src="'+f.attr("src")+'" data-title="'+f.attr("title")+'" data-alt="'+f.attr("alt")+'">');c.find(".swiper-wrapper").append(g);d.find(".swiper-wrapper").append('<li class="zoom swiper-slide post-image">'+
this.outerHTML+"</li>")});p();n()}};a("form.variations_form").on("wc_additional_variation_images_frontend_image_swap_callback",function(a,c){y(c.main_images)})}e.addClass(Themify.isTouch?"is_mobile":"is_desktop");Themify.isTouch&&a("#cart-icon-count>a").click(function(a){a.preventDefault()});var q=function(){function b(){var b=a("body").hasClass("rtl");a(".product-slider").not(".hovered").each(function(c){var d=a(this).data("product-slider");if(d){var f=a(this);f.addClass("hovered").one("mouseover touchstart",
function(g){if(a(g.target).is("img")){g.preventDefault();var h="slider-"+f.closest(".product").data("product-id")+"-"+c,e=f.closest(".products");g=e.data("width");e=e.data("height");f.addClass(h).append('<span class="themify_spinner"></span><div class="themify_swiper_container"><a href="javascript:void(0);" class="product-slider-arrow product-slider-prev"></a><a href="javascript:void(0);" class="product-slider-arrow product-slider-next"></a><div class="swiper-container swiper-container-big"><div class="swiper-wrapper"></div></div><div class="swiper-container swiper-container-thumbs"><div class="swiper-wrapper"></div></div></div>');
a.ajax({url:woocommerce_params.ajax_url,type:"POST",dataType:"json",data:{action:"themify_product_slider",slider:d,width:g,height:e},beforeSend:function(){f.addClass("slider-loading")},success:function(c){if(c){var d="",g="",e=f.data("product-link")?f.data("product-link"):!1,r=f.find(".swiper-container-big").children(".swiper-wrapper"),l=f.find(".swiper-container-thumbs").children(".swiper-wrapper"),k;for(k in c.big)d+='<div  class="swiper-slide">',e&&(d+='<a href="'+e+'">'),d+='<img src="'+c.big[k]+
'"/>',e&&(d+="</a>"),d+="</div>",g+='<div class="swiper-slide"><img src="'+c.thumbs[k]+'"/></div>';r.html(d);l.html(g);Themify.imagesLoad(r,function(){var c,d=new Swiper(a("."+h).find(".swiper-container-big"),{navigation:{nextEl:a("."+h).find(".product-slider-next"),prevEl:a("."+h).find(".product-slider-prev")},loop:1,autoplay:{delay:2500,disableOnInteraction:!1},rtl:b,normalizeSlideIndex:!1,slidesPerView:1,speed:1500,zoom:1,on:{slideChangeTransitionStart:function(){c&&c.slideTo(d.realIndex,d.speed,
!1)},init:function(g){c=new Swiper(a("."+h).find(".swiper-container-thumbs"),{slidesPerView:"auto",slideToClickedSlide:!0,normalizeSlideIndex:!1,virtualTranslate:!0,rtl:b,spaceBetween:0,nested:!0,on:{init:function(){f.removeClass("slider-loading").addClass("slider-finish")},click:function(){if(d){var b=a("."+h).find('.swiper-slide[data-swiper-slide-index="'+c.realIndex+'"]').not(".swiper-slide-duplicate").index();d.slideTo(b,d.speed,!1)}}}})}}})})}}})}})}})}!e.hasClass("wishlist-page")&&0<a(".product-slider").not(".hovered").length&&
("undefined"===typeof Swiper?Themify.LoadAsync(themifyScript.theme_url+"/js/swiper.jquery.min.js",b,null,null,function(){return"undefined"!==typeof Swiper}):b())},p=function(){function b(){var b=a(".product-images-carousel:not(.themify_swiper_ready)").first();Themify.imagesLoad(b,function(){if(1>=a(".swiper-slide",b).length)b.addClass("themify_swiper_ready").closest(".images").find(".themify_spinner").remove();else{var d=b.parent().find(".product-thumbnails-carousel").first(),c=new Swiper(d,{direction:"vertical",
slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,touchReleaseOnEdges:!0,on:{init:function(){d.addClass("themify_show").closest(".images").find(".themify_spinner").remove()}}});window.tb_product_slider=new Swiper(b,{slideToClickedSlide:!0,on:{init:function(a){b.addClass("themify_swiper_ready").closest(".images").find(".themify_spinner").remove()},slideChangeTransitionStart:function(){var d=b.find(".swiper-slide-active"),c=d.children("div.default_img");0<c.length&&Themify.imagesLoad(c.replaceWith('<span class="themify_spinner"></span><img class="swiper_img_progress" src="'+
c.data("src")+'" width="'+c.data("width")+'" height="'+c.data("height")+'" alt="'+c.data("alt")+'" title="'+c.data("title")+'" />'),function(){d.children("img.swiper_img_progress").addClass("swiper_img_loaded").one("transitionend",function(b){a(this).prev(".themify_spinner").remove()})})}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:c}})}});a("img",b).on("click",function(){var c=thumbs.data("swiper");c&&c.slideTo(a("li",b).index(a(this).parent()))})}0<a(".swiper-container .swiper-slide").length&&
("undefined"===typeof Swiper?Themify.LoadAsync(themifyScript.theme_url+"/js/swiper.jquery.min.js",b,null,null,function(){return"undefined"!==typeof Swiper}):b())};a(document).ajaxComplete(function(b,c,d){0<a(".product-slider").not(".hovered").length&&q()});e.on("infiniteloaded.themify",q);p();q();"undefined"!==typeof themifyShop.wishlist&&Themify.LoadAsync(themifyScript.theme_url+"/js/themify.wishlist.js",null,null,null);a("#cart-link").themifySideMenu({panel:"#slide-cart",close:"#cart-icon-close"});
var v=a(".widget_product_categories .count");0<v.length&&v.each(function(){a(this).text(a(this).text().replace("(","").replace(")",""))});e.on("wc_fragments_refreshed",function(){a(".is_mobile #cart-wrap").show()});"yes"==woocommerce_params.option_ajax_add_to_cart&&(e.on("adding_to_cart",function(a,c,d){"undefined"!==typeof clickSpark&&(clickSpark.setParticleText("\ue60d"),clickSpark.setParticleColor(window.sparkling_color),clickSpark.setParticleDuration(300),clickSpark.setParticleCount(15),clickSpark.setParticleSpeed(8),
clickSpark.setAnimationType("splash"),clickSpark.setParticleRotationSpeed(0),clickSpark.fireParticles(c))}).on("added_to_cart removed_from_cart",function(b,c,d){a(".is_mobile #cart-wrap").show();a.fn.prettyPhoto&&a(".pp_inline").is(":visible")&&a.prettyPhoto.close();a(".mfp-content.themify_product_ajax").is(":visible")&&a.magnificPopup.close();b=a("#cart-icon-count");!b.hasClass("empty-cart")&&0>=parseInt(b.find(".icon-menu-count").text())?b.addClass("empty-cart"):b.hasClass("empty-cart")&&b.removeClass("empty-cart")}),
a(document).on("click",".remove-item-js",function(b){b.preventDefault();var c=a(this);b={action:"theme_delete_cart",remove_item:c.attr("data-product-key")};c.addClass("themify_spinner");a.post(woocommerce_params.ajax_url,b,function(b){var d=b.fragments;b=b.cart_hash;0==c.parent().find(".added_to_cart").size()&&c.addClass("added");d&&a.each(d,function(b,c){a(b).addClass("updating").replaceWith(c)});a("body").trigger("removed_from_cart",[d,b]);c.removeClass("themify_spinner");a("#cart-icon-count").hasClass("cart_empty")&&
e.addClass("wc-cart-empty")})}),themifyScript.ajaxSingleCart||w());a(".reply-review").click(function(){a("#respond").slideToggle("slow");return!1});a(".add-reply-js").click(function(){a(this).hide();a("#respond").slideDown("slow");a("#cancel-comment-reply-link").show();return!1});a("#reviews #cancel-comment-reply-link").click(function(){a(this).hide();a("#respond").slideUp();a(".add-reply-js").show();return!1});themifyScript.variableLightbox&&(u(document),a(document).on("newElements",function(){u(a(".infscr_newElements"))}));
a(".product,.module-products").length&&("undefined"===typeof Themibox?Themify.LoadAsync(themifyScript.theme_url+"/js/themibox.js",function(){Themibox.init()},null,null,function(){return"undefined"!==typeof Themibox}):Themibox.init());e.on("themiboxloaded",function(b,c){t(c);if(e.hasClass("single-product")||e.hasClass("post-lightbox"))a(".entry-summary").on("keyup",'input[name="quantity"][max]',function(){var b=a('input[name="quantity"]'),c=parseInt(a(this).attr("max"),10);b.val()>c&&b.val(c)});a.fn.prettyPhoto?
a(".thumbnails a[data-rel^='prettyPhoto']").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}):p();n();"undefined"!==typeof themifyShop&&themifyShop.is_default_gallery&&a.fn.wc_product_gallery&&a(".woocommerce-product-gallery").each(function(){a(this).wc_product_gallery()})});a(".thumbnails a").on("click",function(){a(".product_zoom.zoomed").trigger("click")});e.on("themiboxclosed themiboxcanceled",function(b){a("#post-lightbox-wrap").removeClass("lightbox-message");
k()}).on("added_to_cart",function(b){b=a("#post-lightbox-container");var c=a(".lightbox-added").clone(!0);a("#post-lightbox-wrap").addClass("lightbox-message");b.slideUp(400,function(){a(this).empty();c.appendTo(a(this)).show();a(this).slideDown();k();a(".close-themibox",c).one("click",Themibox.closeLightBox)});a(".added_to_cart:not(.button)").addClass("button");if(0===b.find("#pagewrap").length){var d=a("#slide-cart");0<d.length?(d.removeClass("sidemenu-on").addClass("sidemenu-off"),setTimeout(function(){d.removeClass("sidemenu-off").addClass("sidemenu-on");
setTimeout(function(){0<a("#slide-cart:hover").length?d[0].addEventListener("mouseleave",function(){d.removeClass("sidemenu-on").addClass("sidemenu-off")},{once:!0}):d.removeClass("sidemenu-on").addClass("sidemenu-off")},+themifyScript.ajaxCartSeconds||1E3)},+themifyScript.ajaxCartSeconds||1E3)):(d=a("#cart-icon-count, #cart-link-mobile #shopdock"),d.removeClass("show_cart"),setTimeout(function(){d.addClass("show_cart");setTimeout(function(){0<a("#shopdock:hover").length?d[0].addEventListener("mouseleave",
function(){d.removeClass("show_cart")},{once:!0}):d.removeClass("show_cart")},+themifyScript.ajaxCartSeconds||1E3)},+themifyScript.ajaxCartSeconds||1E3))}e.removeClass("wc-cart-empty")});e.hasClass("single-product")&&(a(".entry-summary").on("keyup",'input[name="quantity"][max]',function(){var b=a('input[name="quantity"]'),c=parseInt(a(this).attr("max"),10);b.val()>c&&b.val(c)}),a("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" id="add1" class="plus" />').prepend('<input type="button" value="-" id="minus1" class="minus" />'),
n());a(document).on("click",".plus, .minus",function(){var b=a(this).closest(".quantity").find(".qty"),c=parseFloat(b.val()),d=parseFloat(b.prop("max")),e=parseFloat(b.prop("min")),f=parseFloat(b.prop("step"));c||(c=1);d||(d=!1);e||(e=!1);f||(f=1);c=a(this).hasClass("plus")?d&&c>=d?d:c+f:e&&c<=e?e:c>f?c-f:c;b.val(c).trigger("change")}).on("keyup",'form.cart input[name="quantity"]',function(){var b=parseFloat(a(this).prop("max"));if(0<b){var c=a(this);b=parseInt(b,10);c.val()>b&&c.val(b)}});(function(){var b=
a(".images .woocommerce-main-image.zoom").eq(0),c,d,h;e.on("found_variation",".variations_form",function(f,e){b.length||(b=a(".images .woocommerce-main-image.zoom").eq(0));c=b.find(".zoomImg");d||(d=b.data("zoom-image"));"string"===typeof e.image.full_src&&(b.attr("data-zoom-image",e.image.full_src),c.length&&c.remove(),b.find(".product_zoom").remove(),m(b,e.image.full_src));if(e.image.full_src){f=e.image.full_src.replace(/\.[^\.]+$/,"");var g=a('.product-thumbnails-carousel > ul img[src*="'+f+'"]:first');
g.length&&!g.parent().hasClass("swiper-slide-active")&&(clearTimeout(h),h=setTimeout(function(){window.tb_product_slider&&window.tb_product_slider.slideTo(g.parent().index(),1E3,!0)},1E3))}}).on("hide_variation",function(){c=b.find(".zoomImg");d&&(c.remove(),m(b,d),d="")})})()})})(jQuery);
