/*
 Themify Builder - Asynchronous Script and Styles Loader */
'use strict';(function(n,p,b,d,q,g){n(function(){function D(){if(tinymce!==q&&tinyMCE){tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1;var b=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css.split(",");tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css=b[1]!==q?b[1]:b[0];tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink";
tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple";tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=!1;tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div";tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0;tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor");n("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools").remove()}}function B(){d.body.on("click.tbloader",".toggle_tb_builder > a, a.js-turn-on-builder",function(a){a.preventDefault();
a.stopPropagation();var c=d.body.hasClass("tb_restriction");d.LoadAsync(tbLocalScript.builder_url+"/js/themify-ticks.js",function(){c&&(TB_Ticks.init(tbLocalScript.ticks).show(),B())},null,null,function(){return"undefined"!==typeof TB_Ticks});if(!c){var f=this.classList.contains("js-turn-on-builder")?this.childNodes[0].getAttribute("data-id"):u;if(f&&!this.parentNode.classList.contains("tb_disabled_turn_on")){d.body.off("click.tbloader");setTimeout(D,1);var l=d.body.children();a=b.createDocumentFragment();
if(null!==g.styles){for(var e=g.styles.length-1;-1<e;--e)if(""!==g.styles[e]){var h=b.createElement("link");h.href=g.styles[e]+"?ver="+tbLocalScript.version;h.rel="preload";h.setAttribute("as","style");a.appendChild(h)}b.head.appendChild(a)}var v,r=[],k=n(b).scrollTop(),t=Array.prototype.slice.call(b.head.getElementsByTagName("link")),w=Array.prototype.slice.call(b.head.getElementsByTagName("script")).concat(Array.prototype.slice.call(b.head.getElementsByTagName("style"))),y=b.createElement("div");
a=b.createElement("div");e=b.createElement("div");h=b.createElement("div");var x=b.createElement("div"),m=b.createElement("iframe");y.className="tb_workspace_container";a.className="tb_vertical_bars";e.id="tb_left_bar";h.id="tb_right_bar";e.className=h.className="tb_middle_bar";x.className="tb_vertical_change_tooltip";m.className="tb_iframe";m.id=m.name="tb_iframe";m.scrolling=C?"no":"yes";m.src=z+"&tb-id="+f;a.appendChild(e);a.appendChild(m);a.appendChild(h);a.appendChild(x);y.appendChild(a);b.body.appendChild(y);
if(null!==g.styles)for(e=0,A=g.styles.length;e<A;++e)""!==g.styles[e]&&(d.LoadCss(g.styles[e]),r[g.styles[e]+"?ver="+tbLocalScript.version]=1);g.styles=null;setTimeout(function(){v=b.createElement("div");var a=b.createElement("div"),d=b.createElement("div"),c=b.getElementsByClassName("tb_front_icon")[0];v.id="tb_alert";v.className="tb_busy";a.id="tb_fixed_bottom_scroll";a.className="tb_fixed_scroll";d.id="builder_progress";d.appendChild(b.createElement("div"));b.body.insertAdjacentElement("afterbegin",
a);b.body.appendChild(v);c!==q&&c.parentNode.appendChild(d)},1);d.body.off("builder_load_module_partial themify_builder_ready");n(b).off("ajaxComplete");m.addEventListener("load",function(){var a=this;d.body.one("themify_builder_ready",function(a){n(v).fadeOut(100,function(){this.classList.remove("tb_busy")});a=d.body[0].classList.contains("archive");d.body[0].className="themify_builder_active builder-breakpoint-desktop";d.body[0].removeAttribute("style");C&&(d.body[0].className+=" tb_touch");a&&
(d.body[0].className+=" archive");"1"===g.isGlobalStylePost&&(d.body[0].className+=" gs_post");y.style.display="block";a=e.tb_app.Instances.Builder[0].$el.offset().top;a>k&&(k=a);e.scrollTo(0,k);d.iframe=m;d.is_builder_active=!0;setTimeout(function(){l.hide();for(var a=0,c=w.length;a<c;++a)w[a]&&w[a].parentNode&&w[a].parentNode.removeChild(w[a]);w=null;for(a=t.length-1;-1<a;--a)t[a]&&t[a].parentNode&&(c=t[a].href,r[c]===q&&-1===c.indexOf("wp-includes")&&-1===c.indexOf("admin-bar")&&(t[a].setAttribute("disabled",
!0),t[a].parentNode.removeChild(t[a])));t=r=g=v=null;n(".themify_builder_content,#wpadminbar,header").remove();l.filter("ul,a,video,audio").filter(":not(:has(link))").remove();c="scroll tfsmartresize debouncedresize throttledresize resize mouseenter keydown keyup mousedown assignVideo".split(" ");var f=n(p),m=n(b);for(a=c.length-1;-1<a;--a)f.off(c[a]),m.off(c[a]),d.body.off(c[a]);b.documentElement.removeAttribute("style");b.documentElement.removeAttribute("class");var k=tbLocalScript.ticks;h.hasClass("tb_restriction")?
setTimeout(function(){b.body.appendChild(h.find("#tmpl-builder-restriction")[0]);TB_Ticks.init(k,e).show()},1E3):setTimeout(function(){TB_Ticks.init(k,e).ticks()},5E3);setTimeout(function(){"undefined"!==typeof Rellax&&(Rellax.disableCheckPosition(),Rellax.destroy());for(var a="ThemifyBuilderModuleJs c _wpemojiSettings twemoji themifyScript tbLocalScript themify_vars tbScrollHighlight google ThemifyGallery Animation $f Froogaloop SliderProSlide SliderProUtils ThemifySlider FixedHeader LayoutAndFilter WOW Waypoint $slidernav google Microsoft Rellax module$contents$MapsEvent_MapsEvent module$contents$mapsapi$overlay$OverlayView_OverlayView wc_add_to_cart_params woocommerce_params wc_cart_fragments_params wc_single_product_params tf_mobile_menu_trigger_point themifyMobileMenuTrigger".split(" "),
b=0,c=a.length;b<c;++b)"undefined"!==typeof p[a[b]]&&(p[a[b]]=null);p.wp.emoji=null},3E3)},800)});if("__rocketLoaderLoadProgressSimulator"in a.contentWindow)var c=setInterval(function(){"complete"===a.contentWindow.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&(clearInterval(c),e=a.contentWindow,h=e.jQuery("body"),e.themifyBuilder.post_ID=f,h.trigger("builderiframeloaded.themify",a))},10);else{var e=a.contentWindow;var h=e.jQuery("body");e.themifyBuilder.post_ID=f;h.trigger("builderiframeloaded.themify",
a)}},{once:!0})}}})}var C=d.isTouch?!0:!1;if(wp===q||wp.customize===q){for(var f=b.getElementsByClassName("themify_builder_content"),c=b.getElementsByClassName("toggle_tb_builder")[0],u=c!==q?c.getElementsByClassName("tb_front_icon")[0].getAttribute("data-id"):!1,k=!1,a=f.length-1;-1<a;--a){var l=f[a].getAttribute("data-postid");l===u&&(k=!0);var r=b.createElement("a"),x=b.createElement("span");r.href="javascript:void(0);";r.className="tb_turn_on js-turn-on-builder";x.className="dashicons dashicons-edit";
x.setAttribute("data-id",l);r.appendChild(x);r.appendChild(b.createTextNode(f[a].parentNode.classList.contains("tbp_template")?g.editTemplate:g.turnOnBuilder));f[a].insertAdjacentElement("afterEnd",r);0===f[a].children.length&&f[a].classList.add("tb_builder_empty")}c===q&&(c=b.getElementsByClassName("js-turn-on-builder")[0],c!==q&&(u=c.getElementsByClassName("dashicons-edit")[0].getAttribute("data-id")));!1===k?(u=null,c.classList.add("tb_disabled_turn_on")):c.classList.remove("tb_disabled_turn_on");
f=c=null}var z=0<p.location.href.indexOf("?")?"&":"?";z=p.location.href.replace(p.location.hash,"").replace("#","")+z+"tb-preview=1&ver="+tbLocalScript.version;B();if(!b.body.classList.contains("tb_restriction"))if("#builder_active"===p.location.hash)n(".toggle_tb_builder > a").first().trigger("click"),p.location.hash="";else{f=b.createDocumentFragment();a=b.createElement("link");c=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css;k=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.cache_suffix;a.href=
z+(u?"&tb-id="+u:"");a.rel="prefetch";a.setAttribute("as","document");f.appendChild(a);if(c){c=c.split(",");a=0;for(var A=c.length;a<A;++a)c[a]+=(-1<c[a].indexOf("?")?"&":"?")+k,l=b.createElement("link"),l.href=c[a],l.rel="prefetch",l.setAttribute("crossorigin",!0),l.setAttribute("as","style"),f.appendChild(l)}b.head.appendChild(f)}})})(jQuery,window,document,Themify,void 0,tbLoaderVars);
