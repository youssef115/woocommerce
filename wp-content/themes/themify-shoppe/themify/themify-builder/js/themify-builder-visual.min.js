'use strict';(function(D,u,F,z,t,f,I){function P(e){function d(a){var b="",c;for(c in a)b+=a[c];t.body.insertAdjacentHTML("beforeend",b);e&&e()}if(f.Forms.LayoutPart.init)e&&e();else{var a=function(){if(themifyBuilder.debug)return!1;try{var a=localStorage.getItem("tb_visual_templates"),b="";if(!a)return!1;a=JSON.parse(a);for(var g in themifyBuilder.modules)b+=g;return a.ver.toString()!==tbLocalScript.version.toString()||a.h!==u.hash(b)?!1:a.val}catch(h){}return!1}();a?d(a):D.ajax({type:"POST",url:themifyBuilder.ajaxurl,
dataType:"json",data:{action:"tb_load_visual_templates",tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){if(a){d(a);try{var b="",c;for(c in themifyBuilder.modules)b+=c;var e={val:a,ver:tbLocalScript.version,h:u.hash(b)};localStorage.setItem("tb_visual_templates",JSON.stringify(e))}catch(l){}}}})}}function Q(){for(var e=z.document.getElementsByClassName("tb_middle_bar"),d=function(a){var b=a.clientX,c="tb_right_bar"===this.id?"right":"left",e=tbLocalScript.breakpoints,d=f.toolbar.$el.width(),
k=f.iframe.css("transition","none").width(),n=z.document.getElementsByClassName("tb_vertical_change_tooltip")[0],p=z.document.getElementsByClassName("tb_vertical_bars")[0],m=t.createElement("div");m.className="tb_mousemove_cover";void 0!==n&&n.parentNode.removeChild(n);n=t.createElement("div");n.className="tb_vertical_change_tooltip";this.appendChild(n);p.appendChild(m);p.className+=" tb_resizing_start";f.iframe[0].classList.add("tb_resizing_start");var q=D(F),r=function(a){a=a.clientX-b;a*=2;"left"===
c&&(a=-a);var g=320>k+a?320:k+a;g<=e.mobile?a="mobile":g<=e.tablet[1]?a="tablet":g<=e.tablet_landscape[1]?a="tablet_landscape":(a="desktop",g>d-17&&(g=d));n.textContent=g+"px";f.iframe.css("width",g);f.activeBreakPoint!==a&&ThemifyConstructor.lightboxSwitch(a)};m.addEventListener("mousemove",r,{passive:!0});m.addEventListener("mouseup",function B(a){m.removeEventListener("mousemove",r,{passive:!0});m.removeEventListener("mouseup",B,{once:!0,passive:!0});m.parentNode.removeChild(m);n.parentNode.removeChild(n);
f.iframe.css("transition","");p.classList.remove("tb_resizing_start");f.iframe[0].classList.remove("tb_resizing_start");f.Utils._onResize(!0);q.triggerHandler("tfsmartresize.tbfullwidth");q.triggerHandler("tfsmartresize.tfVideo")},{once:!0,passive:!0})},a=e.length-1;-1<a;--a)e[a].addEventListener("mousedown",d,{passive:!0});e=null}var K=[],L=[],M={};f.mode="visual";f.iframe="";f.id="";f.is_ajax_call=!1;f.Mixins.Frontend={render_visual:function(e){var d={},a=this.el.querySelectorAll("[data-cid]");
a=Array.prototype.slice.call(a);a.unshift(this.el);for(var c=0,b=a.length;c<b;++c){var g=f.Models.Registry.lookup(a[c].getAttribute("data-cid"));g&&(d[g.cid]=g.toJSON())}f.bootstrap(d,e)},change_callback:function(){var e=this.$el;e[0].insertAdjacentHTML("afterbegin",'<span class="sp-preloader tb_preview_component"></span>');this.render_visual(function(){e.find(".tb_preview_component").remove();f.Utils.setCompactMode(e[0].getElementsByClassName("module_column"));var d="row"===f.eventName?e.data("cid"):
f.beforeEvent.data("cid");f.undoManager.push(d,f.beforeEvent,e,f.eventName);f.Mixins.Builder.update(e)})},createEl:function(e){var d=this.model.get("elType"),a=t.createElement("div");a.innerHTML=e;e=a.getElementsByClassName("module_"+d)[0];var c=e.classList,b=e.attributes;a=0;for(var g=c.length;a<g;++a)this.el.classList.add(c[a]);for(a=b.length-1;-1<a;--a)"class"!==b[a].name&&(c=b[a].name,this.el.setAttribute(c,b[a].value),0===c.indexOf("data-")&&this.$el.data(c.replace("data-",""),b[a].value));c=
e.getElementsByClassName("builder_row_cover")[0];g=e.getElementsByClassName("tbp_dc_styles")[0];b=e.getElementsByClassName(d+"-slider")[0];var h=e.getElementsByClassName("tb_row_frame");if(void 0!==h[0]&&h[0].parentNode===e){var f=t.createDocumentFragment(),k=this.el.getElementsByClassName("tb_row_frame");for(a=k.length-1;-1<a;--a)k[a].parentNode.removeChild(k[a]);for(a=h.length-1;-1<a;--a)h[a].parentNode===e&&f.appendChild(h[a].cloneNode());this.el.insertBefore(f,this.el.firstChild)}void 0!==g&&
g.parentNode===e&&(a=this.el.getElementsByClassName("tbp_dc_styles")[0],void 0!==a?this.el.replaceChild(g,a):this.el.appendChild(g));void 0!==c&&c.parentNode===e&&(a=this.el.getElementsByClassName("builder_row_cover")[0],void 0!==a?this.el.replaceChild(c,a):this.el.insertAdjacentElement("afterbegin",c));void 0!==b&&b.parentNode===e&&(d=this.el.getElementsByClassName(d+"-slider")[0],void 0!==d?this.el.replaceChild(b,d):this.el.insertAdjacentElement("afterbegin",b))},restoreHtml:function(e){var d=t.createElement("div");
d.innerHTML=e;e=D(d.firstChild);d=f.liveStylingInstance.$liveStyledElmt;var a=e[0].querySelectorAll("[data-cid]");a=Array.prototype.slice.call(a);a.unshift(e[0]);for(var c=a.length-1;-1<c;--c){var b=f.Models.Registry.lookup(a[c].getAttribute("data-cid"));b&&b.trigger("change:view",a[c])}d.replaceWith(e);f.Mixins.Builder.update(e)}};f.previewVisibility=function(){var e=this.$el,d="row"===this.model.get("elType")?this.model.get("styling"):this.model.get("mod_settings");if(f.isPreview){"hide_all"===
d.visibility_all?e.addClass("hide-all"):("hide"===d.visibility_desktop&&e.addClass("hide-desktop"),"hide"===d.visibility_tablet&&e.addClass("hide-tablet"),"hide"===d.visibility_tablet_landscape&&e.addClass("hide-tablet_landscape"),"hide"===d.visibility_mobile&&e.addClass("hide-mobile"));var a=!1;_.isEmpty(d.custom_parallax_scroll_speed)||(a=!0,e[0].dataset.parallaxElementSpeed=parseInt(d.custom_parallax_scroll_speed));_.isEmpty(d.custom_parallax_scroll_reverse)||(e[0].dataset.parallaxElementReverse=
!0);_.isEmpty(d.custom_parallax_scroll_fade)||(e[0].dataset.parallaxFade=!0);a&&u.parallaxScrollingInit(e,!0)}else e.removeClass("hide-desktop hide-tablet hide-tablet_landscape hide-mobile hide-all")};_.extend(f.Views.BaseElement.prototype,f.Mixins.Frontend);f.Views.register_row({initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);f.vent.on("dom:preview",
f.previewVisibility.bind(this))}});f.Views.register_subrow({initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)}});f.Views.register_column({initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml)}});
f.Views.register_module({_jqueryXhr:!1,templateVisual:function(e){return wp.template("builder-"+this.model.get("mod_name")+"-content")(e)},initialize:function(){this.listenTo(this.model,"create:element",this.createEl);this.listenTo(this.model,"visual:change",this.change_callback);this.listenTo(this.model,"custom:restorehtml",this.restoreHtml);this.listenTo(this.model,"custom:preview:live",this.previewLive);this.listenTo(this.model,"custom:preview:refresh",this.previewReload);f.vent.on("dom:preview",
f.previewVisibility.bind(this))},createEl:function(e){var d=t.createElement("div"),a=t.createElement("div"),c=t.createElement("div"),b=t.createElement("div"),g=t.createElement("div"),h=this.model.get("mod_name");d.innerHTML=e;var l=d.getElementsByClassName("module")[0];d=e=null;if(void 0===l)return f.is_ajax_call||(f.Models.Registry.remove(this.model.cid),this.model.destroy()),!1;g.className="tb_visibility_hint";this.el.innerHTML=l.innerHTML;this.el.appendChild(g);f.Utils.visibilityLabel(this.el);
a.className="tb_data_mod_name";a.innerHTML=themifyBuilder.modules[h].name;c.className="tb_column_btn_plus tb_module_btn_plus tb_disable_sorting";b.className="tb_action_wrap tb_module_action";this.el.appendChild(b);this.el.appendChild(a);this.el.appendChild(c);e=l.attributes;l=c=c=null;this.el.className=this.attributes().class;c="tb_"+this.model.get("element_id");for(l=e.length-1;-1<l;--l)if("class"===e[l].name)for(d=e[l].value.split(" "),a=d.length-1;-1<a;--a)d[a]=d[a].trim(),c!==d[a]&&""!==d[a]&&
this.el.classList.add(d[a]);else d=e[l].name,this.el.setAttribute(d,e[l].value),0===d.indexOf("data-")&&this.$el.data(d.replace("data-",""),e[l].value);"image"===h&&!0===u.is_builder_loaded&&!1===f.id&&setTimeout(function(){f.Utils.checkImageSize(this.el);f.Utils.calculateHeight()}.bind(this),500);e=null},shortcodeToHTML:function(e){function d(b){void 0!==a._shortcodeXhr&&4!==a._shortcodeXhr&&a._shortcodeXhr.abort();a._shortcodeXhr=D.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_render_element_shortcode",
shortcode_data:JSON.stringify(b),tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(b){if(b.success){var c=b.data.shortcodes,g=b.data.styles;if(g){b=0;for(var e=g.length;b<e;++b)u.LoadCss(g[b].s,g[b].v,null,g[b].m)}b=0;for(e=c.length;b<e;++b)g=u.hash(c[b].key),a.$el.find(".tmp"+g).replaceWith(c[b].html),K[g]=c[b].html,u.is_builder_loaded&&f.Utils.loadContentJs(a.$el,"module")}}})}for(var a=this,c=[],b=!1,g=themifyBuilder.available_shortcodes,h=0,l=g.length;h<l;++h)e=wp.shortcode.replace(g[h],
e,function(a){a=wp.shortcode.string(a);var g=u.hash(a);void 0===K[g]?(c.push(a),a='<span class="tmp'+g+'">[loading shortcode...]</span>'):a=K[g];b=!0;return a});b&&0<c.length&&d(c);return{content:e,found:b}},previewLive:function(e,d,a,c,b){f.is_ajax_call=!1;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();var g=null!==f.activeModel&&c,h=300;e.cid=a?a:f.activeModel.cid;if(!g||!0===d){var l=this.templateVisual(e);if(f.is_ajax_call)return;!0===d&&(e=this.shortcodeToHTML(l),e.found&&(h=1E3,
l=e.content,g=null))}if(g){a=c.length;if(void 0===a)c.innerHTML=b;else for(g=0;g<a;++g)c[g].innerHTML=b;f.Utils.calculateHeight()}else if(this.createEl(l),a)f.Utils.calculateHeight();else{f.liveStylingInstance.$liveStyledElmt=this.$el;var k=this;this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(function(){f.Utils.loadContentJs(k.$el,"module");f.Utils.calculateHeight()},h)}},previewReload:function(e,d,a){function c(a){g.createEl(a);f.liveStylingInstance.$liveStyledElmt=g.$el;f.Utils.loadContentJs(g.$el,
"module");g.$el.find(".tb_preview_component").remove();f.Utils.calculateHeight()}if(d&&f.activeModel.cid&&a){e=d.length;if(void 0===e)d.innerHTML=a;else for(var b=0;b<e;++b)d[b].innerHTML=a;f.Utils.calculateHeight()}else{var g=this;this._jqueryXhr&&4!==this._jqueryXhr&&this._jqueryXhr.abort();f.is_ajax_call=!0;d=this.model.get("mod_name");a=e.unsetKey;g.el.insertAdjacentHTML("afterbegin",'<span class="tb_preview_component sp-preloader"></span>');delete e.cid;delete e.unsetKey;delete e.element_id;
e=f.Utils.clear(e);e["module_"+d+"_slug"]=1;e=JSON.stringify(e);var h=u.hash(e);if(void 0===L[h]||a)return this._jqueryXhr=D.ajax({type:"POST",url:themifyBuilder.ajaxurl,data:{action:"tb_load_module_partial",tb_post_id:themifyBuilder.post_ID,tb_cid:this.model.cid,element_id:this.model.get("element_id"),tb_module_slug:d,tb_module_data:e,tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){L[h]=a;c(a);f.is_ajax_call=g._jqueryXhr=!1},error:function(){g.$el.removeClass("tb_preview_loading")}}),
this;c(L[h])}}});f.bootstrap=function(e,d,a){var c=[],b=!0;e||(b=!1,e=f.Models.Registry.items);for(var g in e){e=f.Models.Registry.items[g];var h=e.toJSON(),l=h.elType,k=h["module"===l?"mod_settings":"styling"];if(k&&0<Object.keys(k).length)!0===b&&f.liveStylingInstance.setCss([h],"module"===l?h.mod_name:l);else if("module"!==l)continue;if("module"===l&&"tile"!==h.mod_name&&void 0===h.mod_settings.__dc__&&"ajax"!==themifyBuilder.modules[h.mod_name].type)e.trigger("custom:preview:live",h.mod_settings,
"accordion"===h.mod_name||"box"===h.mod_name||"feature"===h.mod_name||"tab"===h.mod_name||"text"===h.mod_name||"plain-text"===h.mod_name||"pointers"===h.mod_name||"pro-image"===h.mod_name||"countdown"===h.mod_name||"button"===h.mod_name||"pro-slider"===h.mod_name||"timeline"===h.mod_name,g);else{if("column"===l)delete h.modules;else if("row"===l||"module"===l||"subrow"===l){if("row"===l&&"tb-page-break"===k.custom_css_row)continue;delete h.cols}c.push({jobID:g,data:h})}}this.batch_rendering(c,0,360,
d,a)};f.batch_rendering=function(e,d,a,c,b){if(d>=e.length)"function"===typeof c&&c.call(this),f.toolbar.pageBreakModule.countModules();else{var g=e.slice(d,d+a);this.render_element(g,b).done(function(){f.batch_rendering(e,d+=a,a,c)})}};f.render_element=function(e,d){e={action:"tb_render_element",tmpGS:d?JSON.stringify(d):"",batch:JSON.stringify(e),tb_load_nonce:themifyBuilder.tb_load_nonce,tb_post_id:themifyBuilder.post_ID};return D.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:e,
success:function(a){for(var c in a)f.Models.Registry.lookup(c).trigger("create:element",a[c])}})};f.render=function(){P(function(){for(var e=t.getElementsByClassName("themify_builder_content"),d=themifyBuilder.post_ID,a=null,c=e.length-1;-1<c;--c)e[c].getAttribute("data-postid")!=d?e[c].classList.add("not_editable_builder"):null===a&&(a=e[c],a.setAttribute("id","themify_builder_content-"+d),a.setAttribute("data-postid",d),a.classList.remove("not_editable_builder"),a.classList.add("tb_active_builder"));
e=null;e=F["builderdata_"+d]?F["builderdata_"+d].data:[];e=Array.isArray(e)&&0!==e.length?e.filter(function(a){return a&&0<Object.keys(a).length}):{};F["builderdata_"+d]=null;f.id=d;f.Instances.Builder[f.builderIndex]=new f.Views.Builder({el:a,collection:new f.Collections.Rows(e),type:f.mode});f.Instances.Builder[f.builderIndex].render();e=null;f.bootstrap(null,function(){ThemifyStyles.init(ThemifyConstructor.data,ThemifyConstructor.breakpointsReverse,d);f.liveStylingInstance=new N;f.liveStylingInstance.setCss(f.Mixins.Builder.toJSON(f.Instances.Builder[0].el));
f.toolbar.el.style.display="block";z.jQuery("body").trigger("themify_builder_ready");f.Utils.loadContentJs();z.document.body.insertAdjacentHTML("beforeend",themifyBuilder.data);themifyBuilder.data=null;u.is_builder_loaded=!0;f.Instances.Builder[f.builderIndex].$el.triggerHandler("tb_init");setTimeout(Q,2E3);f.id=!1;setTimeout(function(){f.Utils.checkAllimageSize();f.EdgeDrag.init()},500)})})};u.body.one("builderiframeloaded.themify",function(e,d){f.iframe=D(d);setTimeout(function(){u.LoadCss(tbLocalScript.builder_url+
"/css/animate.min.css")},1);I.setToolbar();f.toolbar=new f.Views.Toolbar({el:"#tb_toolbar"});f.toolbar.render();f.GS.init();u.LoadAsync(tbLocalScript.builder_url+"/js/themify-constructor.js",function(){ThemifyConstructor.getForms(f.render)},null,null,function(){return"undefined"!==typeof ThemifyConstructor});setTimeout(function(){z.Themify.LoadCss(themify_vars.url+"/fontawesome/css/font-awesome.min.css",themify_vars.version)},10)});var N=function(e){function d(){this.$context=e("#tb_lightbox_parent",
z.document);this.prefix;this.type;this.group;this.styleTab;this.styleTabId;this.$liveStyledElmt=this.isChanged=this.currentField=null;this.module_rules={};this.rulesCache={};this.tempData;this.undoData;this.currentStyleObj={};this.currentSheet}d.prototype.init=function(a,c){var b=f.activeModel.get("element_id");this.type=f.activeModel.get("elType");this.group="module"===this.type?f.activeModel.get("mod_name"):this.type;if(!0===c&&null!==f.GS.previousModel){b=f.Models.Registry.lookup(f.GS.previousModel);
var g=b.get("elType");"module"===g&&(g=b.get("mod_name"));b=b.get("element_id")}else g=this.group;this.prefix=ThemifyStyles.getBaseSelector(g,b);console.log(this.prefix);this.$liveStyledElmt=e(t.querySelector(this.prefix));this.currentStyleObj={};this.tempData={};this.undoData={};this.undoData[f.activeBreakPoint]={};this.tempData[f.activeBreakPoint]={};void 0===this.rulesCache[f.activeBreakPoint]&&(this.rulesCache[f.activeBreakPoint]={});this.currentSheet=this.getSheet(f.activeBreakPoint,c);!0!==
a&&("column"!==this.type&&"subrow"!==this.type&&this.bindAnimation(),this.bindTabsSwitch(),this.initModChange())};d.prototype.setCss=function(a,c,b){a=f.GS.createCss(a,c,void 0);c=[];for(var g in a)if("fonts"===g||"cf_fonts"===g)for(var e in a[g]){var d=e;0<a[g][e].length&&(d+=":"+a[g][e].join(","));c.push(d)}else if("gs"===g){d=a[g];for(var k in d){var n=this.getSheet(k,!0),p=n.cssRules?n.cssRules:n.rules,m;for(m in d[k])!1===this.findIndex(p,m)&&n.insertRule(m+"{"+d[k][m].join("")+";}",p.length)}}else for(m in n=
this.getSheet(g,b),p=n.cssRules?n.cssRules:n.rules,a[g])!1===this.findIndex(p,m)&&n.insertRule(m+"{"+a[g][m].join("")+";}",p.length);ThemifyConstructor.font_select.loadGoogleFonts(c.join("|"));return a};d.prototype.findIndex=function(a,c){for(var b=a.length-1;-1<b;--b)if(c===a[b].selectorText.replace(/\s*>\s*/g,">").replace(/,\s/g,","))return b;return!1};d.prototype.renameProp=function(a){if(void 0===M[a]){var c=a;if(-1!==a.indexOf("-")){var b=a.toLowerCase().split("-");a=b[0]+b[1].charAt(0).toUpperCase()+
b[1].slice(1);void 0!==b[2]&&(a+=b[2].charAt(0).toUpperCase()+b[2].slice(1));void 0!==b[3]&&(a+=b[3].charAt(0).toUpperCase()+b[3].slice(1))}return M[c]=a}return M[a]};d.prototype.setLiveStyle=function(a,c,b){b?"string"===typeof b&&(b=[b]):b=[""];b=ThemifyStyles.getNestedSelector(b);for(var g="",e=this.currentSheet.cssRules?this.currentSheet.cssRules:this.currentSheet.rules,d=0,k=b.length;d<k;++d){var n="h"===this.styleTabId?b[d].endsWith(":after")||b[d].endsWith(":before"):!0;!1===n&&-1===b[d].indexOf(":hover")&&
(b[d]+=":hover");g+=this.prefix+b[d];!1===n&&(g+=","+this.prefix+b[d].replace(":hover",".tb_visual_hover"));d!==k-1&&(g+=",")}if(!0===this.isChanged)if("h"===this.styleTabId)for(k=g.split(","),d=k.length-1;-1<d;--d){if(-1===k[d].indexOf("tb_visual_hover"))for(b=t.querySelectorAll(k[d].split(":hover")[0]),n=b.length-1;-1<n;--n)b[n].classList.add("tb_visual_hover")}else for(this.$liveStyledElmt[0].classList.remove("tb_visual_hover"),b=this.$liveStyledElmt[0].getElementsByClassName("tb_visual_hover"),
d=b.length-1;-1<d;--d)b[d].classList.remove("tb_visual_hover");g=g.replace(/\s{2,}/g," ").replace(/\s*>\s*/g,">").replace(/,\s/g,",");d=u.hash(g);b=c;k=void 0!==this.rulesCache[f.activeBreakPoint][d]?this.rulesCache[f.activeBreakPoint][d]:this.findIndex(e,g);!1===c&&(c="");n=a;a=this.renameProp(a);!1!==k&&e[k]?(void 0===this.tempData[f.activeBreakPoint][k]&&(this.tempData[f.activeBreakPoint][k]={}),void 0===this.tempData[f.activeBreakPoint][k][a]&&(this.tempData[f.activeBreakPoint][k][a]=e[k].style[a]),
e[k].style[a]=c):(k=e.length,this.currentSheet.insertRule(g+"{"+n+":"+c+";}",k),void 0===this.tempData[f.activeBreakPoint][k]&&(this.tempData[f.activeBreakPoint][k]={}),this.tempData[f.activeBreakPoint][k][a]="");this.rulesCache[f.activeBreakPoint][d]=k;void 0===this.undoData[f.activeBreakPoint][k]&&(this.undoData[f.activeBreakPoint][k]={});this.undoData[f.activeBreakPoint][k][a]={a:c,b:this.tempData[f.activeBreakPoint][k][a]};u.body.triggerHandler("tb_"+this.type+"_styling",[this.group,a,c,b,this.$liveStyledElmt]);
"desktop"===f.activeBreakPoint||0!==a.indexOf("padding")&&0!==a.indexOf("margin")&&"height"!==a&&"width"!==a||f.Utils.calculateHeight()};d.prototype.initModChange=function(a){var c=this;if(!0===a)u.body.off("themify_builder_change_mode.tb_visual_mode");else u.body.on("themify_builder_change_mode.tb_visual_mode",function(a,e,d){c.setMode(d,null!==f.GS.activeGS)})};d.prototype.setMode=function(a,c){void 0===this.tempData[a]&&(this.tempData[a]={});void 0===this.rulesCache[a]&&(this.rulesCache[a]={});
void 0===this.undoData[a]&&(this.undoData[a]={});this.currentSheet=this.getSheet(a,c)};d.prototype.revertRules=function(a){for(var c in this.tempData){var b=this.getSheet(c,a);b=b.cssRules?b.cssRules:b.rules;for(var e in this.tempData[c])if(b[e])for(var d in this.tempData[c][e])b[e].style[d]=this.tempData[c][e][d]}this.undoData={};this.tempData={}};d.prototype.getSheet=function(a,c){return ThemifyStyles.getSheet(a,c)};d.prototype.reset=function(){this.rulesCache={};this.tempData={};this.undoData=
{};for(var a=ThemifyConstructor.breakpointsReverse,c=a.length-1;-1<c;--c){var b=this.getSheet(a[c]),e=b.cssRules;for(e=e.length-1;-1<e;--e)b.deleteRule(e);b=this.getSheet(a[c],!0);e=b.cssRules;for(e=e.length-1;-1<e;--e)b.deleteRule(e)}};d.prototype.clear=function(){var a=this.$liveStyledElmt[0];void 0!==a&&(a.classList.remove("animated"),a.classList.remove("hover-wow"),a.classList.remove("tb_visual_hover"));this.module_rules={};this.styleTab=this.styleTabId=this.currentField=this.isChanged=null;if(!f.saving&&
f.hasChanged)this.revertRules(null!==f.GS.activeGS),this.type&&"module"!==this.type&&null===f.GS.activeGS&&(a=f.activeModel.get("styling"))&&"slider"===a.background_type&&a.background_slider&&this.bindBackgroundSlider();else{a=a.getElementsByClassName("tb_visual_hover");for(var c=a.length-1;-1<c;--c)a[c].classList.remove("tb_visual_hover")}this.bindAnimation(!0);this.bindTabsSwitch(!0);this.initModChange(!0);this.undoData={};this.tempData={};console.log(this.$liveStyledElmt);this.$liveStyledElmt=
this.currentStyleObj=this.currentSheet=null};d.prototype.addOrRemoveFrame=function(a,c){if("module"!==this.type){var b=this,d=this.$liveStyledElmt,h="string"===typeof a;a=h?a:a.closest(".tb_tab").id.split("_").pop();var l=d.children(".tb_row_frame_"+a);if(void 0===c){c={};for(var k=this.getValue(a+"-frame_type").selector,n="custom location width height width_unit height_unit repeat type layout color".split(" "),p=0,m=n.length;p<m;++p){var q=z.document.getElementById(a+"-frame_"+n[p]);if("type"===
n[p])q=q.querySelector("input:checked").value;else if("layout"===n[p])q=q.getElementsByClassName("selected")[0].id;else if("color"===n[p]){if(q=f.Utils.getColor(q),""===q)continue}else q=q.value;c[n[p]]=q}}if(c.type===a+"-presets"||c.type===a+"-custom"){if(c.type===a+"-presets"&&(!c.layout||"none"===c.layout)||c.type===a+"-custom"&&!c.custom){"desktop"===f.activeBreakPoint?h||this.setLiveStyle("background-image","",k):"none"===c.layout&&this.setLiveStyle("background-image","none",k);return}0===l.length?
(l=t.createElement("div"),l.className="tb_row_frame tb_row_frame_"+a,void 0!==c.location&&(l.className+=" "+c.location),d.children(".tb_action_wrap").after(l)):(l.removeClass("behind_content in_front"),void 0!==c.location&&l.addClass(c.location))}if(!h){if(c.type===a+"-presets"){d="left"===a||"right"===a?c.layout+"-l":c.layout;var r=u.hash(d),J=function(a){c.color&&(a=a.replace(/#D3D3D3/ig,c.color));b.setLiveStyle("background-image",'url("data:image/svg+xml;utf8,'+encodeURIComponent(a)+'")',k)};void 0!==
ThemifyStyles.fields.frameCache[r]?J(ThemifyStyles.fields.frameCache[r]):(h=t.getElementById("tmpl-frame_"+d),null!==h?(ThemifyStyles.fields.frameCache[r]=h.textContent.trim(),h=null,J(ThemifyStyles.fields.frameCache[r])):e.ajax({dataType:"text",url:tbLocalScript.builder_url+"/img/row-frame/"+d+".svg",success:function(a){ThemifyStyles.fields.frameCache[r]=a;J(a)}}))}else b.setLiveStyle("background-image",'url("'+c.custom+'")',k);b.setLiveStyle("width",c.width?c.width+c.width_unit:"",k);b.setLiveStyle("height",
c.height?c.height+c.height_unit:"",k);c.repeat?"left"===a||"right"===a?b.setLiveStyle("background-size","100% "+100/c.repeat+"%",k):b.setLiveStyle("background-size",100/c.repeat+"% 100%",k):b.setLiveStyle("background-size","",k)}}};d.prototype.overlayType=function(a){if("module"!==this.type){var c="color"===a||"hover_color"===a,b=c?"minicolors-input":"themify-gradient-type";a=this.styleTab.getElementsByClassName("tb_group_element_"+a)[0].getElementsByClassName(b)[0];c?((c=a.value)&&(c=f.Utils.getColor(a)),
u.triggerEvent(a,"themify_builder_color_picker_change",{val:c})):u.triggerEvent(a,"change")}};d.prototype.addOrRemoveComponentOverlay=function(a,c,b){if("module"!==this.type){var e=this.getComponentBgOverlay(),d=this.getValue(c),f=d.selector;e=0!==e.length;"h"===this.styleTabId?this.$liveStyledElmt[0].classList.add("tb_visual_hover"):this.$liveStyledElmt[0].classList.remove("tb_visual_hover");""===b&&c?(this.setLiveStyle("backgroundImage","",f),this.setLiveStyle("backgroundColor","",f)):(e||(e=t.createElement("div"),
e.className="builder_row_cover",this.$liveStyledElmt.children(".tb_action_wrap").before(e)),d&&("color"===a?this.setLiveStyle("backgroundImage","none",f):this.setLiveStyle("backgroundColor",!1,f),this.setLiveStyle(d.prop,b,f)))}};d.prototype.bindMultiFields=function(a,c){function b(a,b){if(!1===n&&!1===k){if("row"===d.type&&""===tbLocalScript.fullwidth_support&&(p&&("padding"===b||"margin"===b)||"padding-left"===b||"padding-right"===b||"margin-left"===b||"margin-right"===b)){var c=b.split("-"),g=
f.activeBreakPoint+"-"+c[0];if(p)a=a+","+a;else{var h=d.$liveStyledElmt.data(g);h=h?h.split(","):[];"left"===c[1]?h[0]=a:h[1]=a;a=h.join(",")}d.$liveStyledElmt.attr("data-"+g,a).data(g,a);ThemifyBuilderModuleJs.setupFullwidthRows(d.$liveStyledElmt)}(p&&"padding"===b||0===b.indexOf("padding"))&&setTimeout(function(){e(F).triggerHandler("tfsmartresize.tfVideo")},600)}}var d=this;if(c=d.getValue(a.id)){var h=a.closest(".tb_seperate_items"),l=c.prop.split("-"),k=void 0!==l[3],n=!1===k&&"border"===l[0],
p=h.hasAttribute("data-checked");h=h.getElementsByClassName("tb_multi_field");var m=function(a){if(!0===n){var b=a.closest("li");a=parseFloat(b.getElementsByClassName("border_width")[0].value.trim());var c=b.getElementsByClassName("border_style")[0].value;b=f.Utils.getColor(b.getElementsByClassName("minicolors-input")[0]);c="none"===c?c:isNaN(a)||""===a||""===b?"":a+"px "+c+" "+b}else c=a.value.trim(),""!==c&&(c=parseFloat(c),c=isNaN(c)?"":c+a.closest(".tb_input").querySelector("#"+a.id+"_unit").value);
return c};a=!0===p?m(a):null;l=l[0];for(var q=h.length-1;-1<q;--q)!1===p&&(a=m(h[q])),l=d.getValue(h[q].id).prop,d.setLiveStyle(l,a,c.selector),b(a,l);!1===n&&(f.ActionBar.hoverCid=null);h=null}};d.prototype.bindRowWidthHeight=function(a,c,b){b||(b=this.$liveStyledElmt);"row_height"===a?"fullheight"===c?b[0].classList.add(c):b[0].classList.remove("fullheight"):"fullwidth"===c?(b.removeClass("fullwidth").addClass("fullwidth_row_container"),ThemifyBuilderModuleJs.setupFullwidthRows(b)):"fullwidth-content"===
c?(b.removeClass("fullwidth_row_container").addClass("fullwidth"),ThemifyBuilderModuleJs.setupFullwidthRows(b)):b.removeClass("fullwidth fullwidth_row_container").css({"margin-left":"","margin-right":"","padding-left":"","padding-right":"",width:""});e(F).triggerHandler("tfsmartresize.tfVideo")};d.prototype.bindAnimation=function(a){var c=this;if(!0===a)this.$context.off("change.tb_animation");else this.$context.on("change.tb_animation","#animation_effect,#animation_effect_delay,#animation_effect_repeat,#hover_animation_effect",
function(){var a="hover_animation_effect"===this.id,d=a?"hover_animation_effect":"animation_effect",f=a?e(this).val():c.$context.find("#animation_effect").val(),l=void 0!==c.currentStyleObj[d]?c.currentStyleObj[d]:ThemifyConstructor.values[d],k=c.$liveStyledElmt;l&&(a&&(l=l+" hover-wow hover-animation-"+l),k.removeClass(l+" wow").css({"animation-name":"","animation-delay":"","animation-iteration-count":""}));k.removeClass("animated tb_hover_animate");if(c.currentStyleObj[d]=f)a?f="hover-wow hover-animation-"+
f:(d=parseFloat(c.$context.find("#animation_effect_delay").val()),l=parseInt(c.$context.find("#animation_effect_repeat").val()),k.css({"animation-delay":0<d&&!isNaN(d)?d+"s":"","animation-iteration-count":0<l&&!isNaN(l)?l:""})),setTimeout(function(){k.addClass(f+" animated");a&&k.trigger("mouseover")},1)})};d.prototype.getRowAnchorClass=function(a){return 0<a.length?"tb_section-"+a:""};d.prototype.getStylingVal=function(a){return void 0!==this.currentStyleObj[a]?this.currentStyleObj[a]:""};d.prototype.setStylingVal=
function(a,c){this.currentStyleObj[a]=c};d.prototype.bindBackgroundMode=function(a,c){var b={repeat:"repeat","repeat-x":"repeat-x","repeat-y":"repeat-y","repeat-none":"no-repeat","no-repeat":"no-repeat",fullcover:"cover","best-fit-image":"contain","builder-parallax-scrolling":"cover","builder-zoom-scrolling":"100%","builder-zooming":"100%"};if(void 0!==b[a]){var e={};c=this.getValue(c);var d=z.document.getElementById(c.origId);null!==d&&""===d.value.trim()?(a=null,e={"background-repeat":"","background-size":"",
"background-position":"","background-attachment":""}):-1!==a.indexOf("repeat")?(e["background-repeat"]=b[a],e["background-size"]="auto"):(e["background-size"]=b[a],e["background-repeat"]="no-repeat","best-fit-image"===b[a]||"builder-zooming"===b[a]?e["background-position"]="center center":"builder-zoom-scrolling"===b[a]&&(e["background-position"]="50%"));this.$liveStyledElmt[0].classList.remove("builder-parallax-scrolling");this.$liveStyledElmt[0].classList.remove("builder-zooming");this.$liveStyledElmt[0].classList.remove("builder-zoom-scrolling");
this.$liveStyledElmt[0].style.backgroundSize=this.$liveStyledElmt[0].style.backgroundPosition="";if("module"!==this.type||"builder-parallax-scrolling"!==a&&"builder-zooming"!==a&&"builder-zoom-scrolling"!==a&&"best-fit-image"!==a){"builder-parallax-scrolling"===a?this.$liveStyledElmt[0].classList.add("builder-parallax-scrolling"):"builder-zooming"===a?this.$liveStyledElmt[0].classList.add("builder-zooming"):"builder-zoom-scrolling"===a&&this.$liveStyledElmt[0].classList.add("builder-zoom-scrolling");
for(var f in e)this.setLiveStyle(f,e[f],c.selector);"builder-zoom-scrolling"===a?ThemifyBuilderModuleJs.backgroundZoom(this.$liveStyledElmt):"builder-zooming"===a?ThemifyBuilderModuleJs.backgroundZooming(this.$liveStyledElmt):"builder-parallax-scrolling"===a&&ThemifyBuilderModuleJs.backgroundScrolling(this.$liveStyledElmt)}}};d.prototype.bindBackgroundPosition=function(a,c){a&&0<a.length&&(c=this.getValue(c))&&(a=a.split(","),this.setLiveStyle(c.prop,a[0]+"% "+a[1]+"%",c.selector))};d.prototype.bindBackgroundSlider=
function(a){function c(a){a=e(a);var c=b.getComponentBgOverlay();0<c.length?c.after(a):b.$liveStyledElmt.prepend(a);ThemifyBuilderModuleJs.backgroundSlider(a[0].parentNode)}if("module"!==this.type){var b=this;a=b.$context.find("#"+a.id).val().trim();b.removeBgSlider();if(a){void 0===this.cahce&&(this.cahce={});a={shortcode:encodeURIComponent(a),mode:b.$context.find("#background_slider_mode").val(),speed:b.$context.find("#background_slider_speed").val(),size:b.$context.find("#background_slider_size").val()};
var d="",f;for(f in a)d+=u.hash(f+a[f]);void 0!==this.cahce[d]?c(this.cahce[d]):(a.type=b.type,e.post(themifyBuilder.ajaxurl,{nonce:themifyBuilder.tb_load_nonce,action:"tb_slider_live_styling",tb_background_slider_data:a},function(a){10>a.length||(b.cahce[d]=a,c(a))}))}}};d.prototype.VideoOptions=function(a,c){if("module"!==this.type){var b=this.$liveStyledElmt.find(".big-video-wrap").first();a=!0===a.checked;var e="";void 0!==b[0]&&(b[0].classList.contains("themify_ytb_wrapper")?(b=this.$liveStyledElmt,
e="ytb"):b[0].classList.contains("themify-video-vmieo")?(b=$f(b.children("iframe")[0]))&&(e="vimeo"):(b=this.$liveStyledElmt.data("plugin_ThemifyBgVideo"),e="local"),"mute"===c?a?("ytb"===e?b.ThemifyYTBMute():"vimeo"===e?b.api("setVolume",0):"local"===e&&b.muted(!0),this.$liveStyledElmt.data("mutevideo","mute")):("ytb"===e?b.ThemifyYTBUnmute():"vimeo"===e?b.api("setVolume",1):"local"===e&&b.muted(!1),this.$liveStyledElmt.data("mutevideo","")):"unloop"===c&&(a?("vimeo"===e?b.api("setLoop",0):"local"===
e&&b.loop(!1),this.$liveStyledElmt.data("unloopvideo","")):("vimeo"===e?b.api("setLoop",1):"local"===e&&b.loop(!0),this.$liveStyledElmt.data("unloopvideo","loop"))))}};d.prototype.bindBackgroundTypeRadio=function(a){var c="tb_uploader_input";"module"!==this.type&&("slider"!==a?"n"===this.styleTabId&&this.removeBgSlider():c="tb_shortcode_input","video"!==a&&"n"===this.styleTabId&&this.removeBgVideo());"gradient"!==a?this.setLiveStyle("backgroundImage","none"):c="themify-gradient-type";var b=this.styleTab.getElementsByClassName("tb_group_element_"+
a)[0];u.triggerEvent(b.getElementsByClassName(c)[0],"change");"image"===a&&"module"===this.type&&(c=b.getElementsByClassName("minicolors-input")[0],void 0!==c&&u.triggerEvent(c,"themify_builder_color_picker_change",{val:c.value}))};d.prototype.bindFontColorType=function(a,c,b){if("radio"===b)if(c=-1!==a.indexOf("_solid"),b=!0===c?a.replace(/_solid$/ig,""):a.replace(/_gradient$/ig,"-gradient-type"),b=z.document.getElementById(b),!0===c){a=f.Utils.getColor(b);if(void 0===a||""===a)a="";u.triggerEvent(b,
"themify_builder_color_picker_change",{val:a})}else u.triggerEvent(b,"change");else c=this.getValue(c).selector,"color"===b?void 0===a||""===a?(a="",this.setLiveStyle("WebkitBackgroundClip","",c),this.setLiveStyle("backgroundClip","",c),this.setLiveStyle("backgroundImage","",c)):(this.setLiveStyle("WebkitBackgroundClip","border-box",c),this.setLiveStyle("backgroundClip","border-box",c),this.setLiveStyle("backgroundImage","none",c)):""!==a&&(b="backgroundImage",this.setLiveStyle("color","transparent",
c),this.setLiveStyle("WebkitBackgroundClip","text",c),this.setLiveStyle("backgroundClip","text",c)),""===a&&"color"!==b||this.setLiveStyle(b,a,c)};d.prototype.shadow=function(a,c,b){if(c=this.getValue(c)){a=a.closest(".tb_seperate_items").getElementsByClassName("tb_shadow_field");b="";for(var e=!0,d="",l=0,k=a.length;l<k;++l)if(a[l].classList.contains("tb-checkbox"))b=a[l].checked?"inset ":"";else{var n=a[l].value.trim();"color"===ThemifyConstructor.styles[a[l].id].type?n=f.Utils.getColor(a[l]):""===
n?n=0:(e=!1,n+=a[l].closest(".tb_input").querySelector("#"+a[l].id+"_unit").value);d+=n+" "}this.setLiveStyle(c.prop,!0===e?"":b+d,c.selector)}};d.prototype.filters=function(a,c){a=a.closest(".tb_filters_fields").getElementsByClassName("tb_filters_field");for(var b="",e,d=0,f=a.length;d<f;++d){var k=a[d].value.trim();""!==k&&(e=this.getValue(a[d].id),k+=a[d].closest(".tb_seperate_items").querySelector("#"+a[d].id+"_unit").textContent,k="hue"===e.prop?"hue-rotate("+k+")":e.prop+"("+k+")",b+=k+" ")}e=
this.getValue(c);this.setLiveStyle("filter",b,e.selector)};d.prototype.setData=function(a,c,b){if(a=this.getValue(a))""===c&&(c=a.prop),this.setLiveStyle(c,b,a.selector)};d.prototype.bindEvents=function(a,c){if(!a.classList.contains("style_apply_all")){var b=this;(function(){var d=c.type,h=c.prop,l=c.id;var k="color"===d?"themify_builder_color_picker_change":"gradient"===d?"themify_builder_gradient_change":"text"===d||"range"===d?"keyup":"change";a.addEventListener(k,function(a){var g=this.classList,
m="SELECT"===this.tagName,n=!m&&"radio"===this.type;if(b.currentField!==this.id||""===b.currentField){b.currentField="radio"===this.type?!1:this.id;b.isChanged=!0;b.styleTab=null;b.styleTabId="n";var r=this.closest(".tb_tab");null===r?(r=this.closest(".tb_expanded_opttions"),null===r&&(r=z.document.getElementById("tb_options_styling"))):b.styleTabId=r.id.split("_").pop();b.styleTab=r}else b.isChanged=!1;f.hasChanged=!0;a=a.detail&&a.detail.val?a.detail.val:"frame"===d?this.id:this.value;a=void 0!==
a&&"undefined"!==a?a.trim():"";if("color"===d&&g.contains("border_color")||!0===m&&g.contains("border_style")||"keyup"===k&&(g.contains("border_width")||g.contains("tb_multi_field")))b.bindMultiFields(this);else if("frame-custom"===h||"frame"===d||g.contains("tb_frame"))"module"!==b.type&&b.addOrRemoveFrame(this);else if(g.contains("tb_shadow_field"))b.shadow(this,l);else if(g.contains("tb_filters_field"))b.filters(this,l);else if("keyup"===k)""!==a&&("column-rule-width"===h?(a+="px",g=l.replace("_width",
"_style"),m=z.document.getElementById(g),null!==m&&b.setData(g,"",m.value)):"column-gap"===h?a+="px":(g=z.document.getElementById(l+"_unit"),null!==g&&(a+=g.value?g.value:"px"))),b.setData(l,"",a);else if(!0===c.isFontColor)b.bindFontColorType(a,l,d);else{if(!0===m)if("font-weight"===h)g=this.getAttribute("data-selected"),null!==g&&""!==g&&"default"!==g&&void 0===ThemifyConstructor.font_select.safe[g]&&ThemifyConstructor.font_select.loadGoogleFonts(g+":"+a),m=b.styleTab.getElementsByClassName("tb_multi_fonts")[0],
-1!==a.indexOf("italic")?(a=parseInt(a.replace("italic","")),g=m.querySelector('[value="italic"]')):g=m.querySelector('[value="normal"]'),!1===g.checked&&g.parentNode.click();else if("font_select"===d)""!==a&&"default"!==a&&void 0===ThemifyConstructor.font_select.safe[a]?(g=this.closest(".tb_tab").getElementsByClassName("font-weight-select")[0],m=a,void 0!==g?m+=":"+g.value:b.setLiveStyle("font-weight","",c.selector),ThemifyConstructor.font_select.loadGoogleFonts(m)):"default"===a&&(a=""),""!==a&&
(a=ThemifyStyles.parseFontName(a));else{if(g.contains("tb_unit")){u.triggerEvent(b.$context.find("#"+l.replace("_unit",""))[0],"keyup");return}if("background-mode"===h){b.bindBackgroundMode(a,l);return}if("column-count"===h&&0==a)a="";else if(g.contains("tb_position_field"))for(n=["top","right","bottom","left"],m=this.closest(".tb_input"),g=n.length-1;-1<g;--g)"absolute"===a||"fixed"===a?(r="#"+(c.id+"_"+n[g]),r=!0!==m.querySelector(r+"_auto input").checked?m.querySelector(r).value.trim()+m.querySelector(r+
"_unit").value.trim():"auto"):r="",b.setLiveStyle(n[g],r,c.selector);else if("display"===h){if("none"===a)return!1;"inline-block"===a?b.setLiveStyle("width","auto",c.selector):b.setLiveStyle("width","100%",c.selector)}else"vertical-align"===h&&""!==a&&b.setLiveStyle("align-self","top"===a?"flex-start":"middle"===a?"center":"flex-end",c.selector)}else{if("gallery"===d&&"module"!==b.type){b.bindBackgroundSlider(c);return}if(!0===n){l=this.closest(".tb_lb_option").id;!1===this.checked&&(a="");if("imageGradient"===
d||!0===c.is_background){b.bindBackgroundTypeRadio(a);return}if(!0===c.is_overlay){"module"!==b.type&&b.overlayType(a);return}}else if("color"===d||"gradient"===d){"gradient"===d&&(l=this.dataset.id);if(!0===c.is_overlay){"module"!==b.type&&b.addOrRemoveComponentOverlay(d,l,a);return}"color"===d&&(g=null,"module"===b.type&&void 0!==c.colorId&&void 0!==c.origId?(g=z.document.getElementById(c.origId),null!==g&&"image"!==g.closest(".tb_input").querySelector("input:checked").value&&(g=null)):"module"!==
b.type&&"h"===b.styleTabId&&(g=b.styleTab.getElementsByClassName("tb_uploader_input")[0]),g&&""===g.value.trim()&&b.setLiveStyle("background-image",""!==a?"none":"",c.selector))}else if("image"===d||"video"===d){if("video"===d)return 0<a.length?"module"!==b.type&&(b.$liveStyledElmt.data("fullwidthvideo",a).attr("data-fullwidthvideo",a),_.isEmpty(b.$liveStyledElmt.data("mutevideo"))&&b.$context.find("#background_video_options_mute").is(":checked")&&b.$liveStyledElmt.data("mutevideo","mute"),ThemifyBuilderModuleJs.fullwidthVideo(b.$liveStyledElmt)):
b.removeBgVideo(),!1;a?a="url("+a+")":(a="",void 0!==c.colorId&&"h"===b.styleTabId&&(g=z.document.getElementById(c.colorId),null!==g&&""!==g.value.trim()&&(a="none")));m=b.styleTab.getElementsByClassName("tb_image_options");for(g=m.length-1;-1<g;--g)for(n=m[g].getElementsByClassName("tb_lb_option"),r=n.length-1;-1<r;--r)u.triggerEvent(n[r],"change")}else{if("background-position"===h){b.bindBackgroundPosition(a,l);return}if("checkbox"===d){if(null!==this.closest("#background_video_options")){b.VideoOptions(this,
a);return}if("height"===h&&-1!==l.indexOf("_auto_height")||"width"===h&&-1!==l.indexOf("_auto_width")){a="height"===h?c.heightID:c.widthID;this.checked?b.setData(a,h,"auto"):(g=b.styleTab.querySelector("#"+a).value.trim(),""!==g?b.setData(a,h,g+e(b.styleTab).find("#"+a+"_unit").val()):b.setData(a,h,""));return}if(!0===c.is_position){g="#"+c.posId;m=this.closest(".tb_input");this.checked?a="auto":(a=m.querySelector(g).value.trim(),a=""===a||isNaN(a)?"":a+m.querySelector(g+"_unit").value);b.setLiveStyle(c.prop,
a,c.selector);return}}}}b.setData(l,"",a)}},{passive:!0})})()}};d.prototype.getValue=function(a){return void 0!==this.module_rules[a]?this.module_rules[a]:!1};d.prototype.bindTabsSwitch=function(a){var c=this;if(!0===a)u.body.off("themify_builder_tabsactive.hoverTabs");else u.body.on("themify_builder_tabsactive.hoverTabs",function(a,d,e){if("styling"===ThemifyConstructor.clicked)if("h"!==d.split("_").pop()){c.$liveStyledElmt[0].classList.remove("tb_visual_hover");var b=c.$liveStyledElmt[0].getElementsByClassName("tb_visual_hover");
for(a=b.length-1;-1<a;--a)b[a].classList.remove("tb_visual_hover")}else"module"!==c.type&&(a=e.previousElementSibling.getElementsByClassName("background_type")[0],void 0!==a&&(a=a.querySelector("input:checked").value,"image"===a||"gradient"===a?e.classList.remove("tb_disable_hover"):e.classList.add("tb_disable_hover"))),setTimeout(function(){b=e.getElementsByClassName("tb_lb_option");for(var a=[],d=b.length-1;-1<d;--d){var f=b[d].id,g=b[d].classList.contains("themify-gradient");!0===g&&(f=b[d].dataset.id);
if(void 0!==c.module_rules[f]&&(g||null!==b[d].offsetParent))for(void 0!==c.module_rules[f].is_overlay&&c.$liveStyledElmt[0].classList.add("tb_visual_hover"),f=Array.isArray(c.module_rules[f].selector)?c.module_rules[f].selector:[c.module_rules[f].selector],g=f.length-1;-1<g;--g){var h=f[g].split(":hover")[0];a[h]=1}}b=null;a=Object.keys(a);if(0<a.length)for(d=a.length-1;-1<d;--d)for(b=t.querySelectorAll(c.prefix+a[d]),g=b.length-1;-1<g;--g)b[g].classList.add("tb_visual_hover")},10)})};d.prototype.getComponentBgOverlay=
function(){return this.$liveStyledElmt.children(".builder_row_cover")};d.prototype.getComponentBgSlider=function(){var a="colum"===this.type&&"sub-column"===f.activeModel.get("component_name")?"sub-col":"colum"===this.type?"col":this.type;return this.$liveStyledElmt.children("."+a+"-slider")};d.prototype.removeBgSlider=function(){this.getComponentBgSlider().add(this.$liveStyledElmt.children(".tb_backstretch")).remove();this.$liveStyledElmt.css({position:"",background:"","z-index":""})};d.prototype.removeBgVideo=
function(){this.$liveStyledElmt.removeAttr("data-fullwidthvideo").data("fullwidthvideo","").children(".big-video-wrap").remove()};return d}(jQuery);f.EdgeDrag={modules:null,oneTag:["AREA","EMBED","IMG","INPUT"],disableDrag:null,liveinstance:null,_onDrag:null,init:function(){null===this._onDrag&&(this._onDrag=f.EdgeDrag.drag.bind(this));localStorage.getItem("tb_disable_padding_dragging")?(u.body[0].classList.add("tb_disable_padding_dragging"),f.Instances.Builder[f.builderIndex].el.removeEventListener("mousedown",
this._onDrag),f.toolbar.el.getElementsByClassName("tb_padding_dragging_mode")[0].checked=!1):(f.Instances.Builder[f.builderIndex].el.addEventListener("mousedown",this._onDrag),u.body[0].classList.remove("tb_disable_padding_dragging"))},addEdgesOptions:function(e){var d=e.closest(".tb_dragger");if(void 0===d.getElementsByClassName("tb_dragger_lightbox")[0]){e=d.classList.contains("tb_dragger_margin")?"margin":"padding";var a=["px","em","%"],c=["opposite","all"],b=d.parentNode.children,g=D(d).closest("[data-cid]")[0].getAttribute("data-cid"),
h=null,l=null,k=null,n=this;g=f.Models.Registry.lookup(g);var p=g.get("elType"),m="module"===p?g.get("mod_settings"):g.get("styling");p="margin"===e&&("column"===p||"row"===p);d=null;for(d=b.length-1;-1<d;--d)if(b[d].classList.contains("tb_dragger_"+e)){var q=t.createElement("div"),r=t.createElement("ul"),J=t.createElement("ul"),H=b[d].getElementsByClassName("tb_dragger_options")[0],B=b[d].getAttribute("data-id"),w=b[d].classList.contains("tb_dragger_top")||b[d].classList.contains("tb_dragger_bottom")?
"s":"e",C=b[d].getAttribute("data-u");q.className="tb_dragger_lightbox";J.className="tb_dragger_units";r.className="tb_dragger_types";!0===p&&(r.className+=" tb_dragger_hide_apply_all");for(var E=0,O=a.length;E<O;++E){var v=t.createElement("li");v.textContent=a[E];a[E]===C&&(v.className="current");J.appendChild(v)}null===h&&(h=B.replace(/_left|_right|_bottom|_top$/ig,""),l=this.getCurrentStyling(m,"checkbox_"+h+"_apply_all",g));null===k&&b[d].getAttribute("data-v")&&(k=1);E=0;for(O=c.length;E<O;++E)v=
t.createElement("li"),B=t.createElement("span"),C=!1,v.className="opposite"===c[E]?"tb_apply_opposite":"tb_apply_all",v.className+=" tb_apply","opposite"===c[E]?l||(C=this.getCurrentStyling(m,"s"===w?h+"_opp_top":h+"_opp_left",g)):C=l,C&&(v.className+=" current"),v.appendChild(B),r.appendChild(v);q.appendChild(J);q.appendChild(r);H.appendChild(q);H.getElementsByClassName("tb_dragger_arrow")[0].addEventListener("click",function(a){a.preventDefault();a.stopPropagation();!0!==f.ActionBar.isHoverMode?
f.ActionBar.el.classList.remove("tb_show_toolbar"):(a=u.body[0].getElementsByClassName("tb_clicked"),a.length&&(a[0].style.display="none"));var b=this.closest(".tb_dragger");b.classList.add("tb_dragger_focus");t.body.classList.add("tb_dragger_options_open");var c=function(a){if(!0!==f.ActionBar.isHoverMode)f.ActionBar.el.classList.add("tb_show_toolbar");else{var d=u.body[0].getElementsByClassName("tb_clicked");d.length&&(d[0].style.display="block")}if("mouseout"===a.type||!a.target.classList.contains("tb_dragger_lightbox")&&
!a.target.parentNode.classList.contains("tb_dragger_lightbox"))a.stopPropagation(),a.preventDefault(),t.removeEventListener("click",c),z.document.removeEventListener("click",c),b.removeEventListener("mouseleave",c,{once:!0}),b.classList.contains("tb_dragger_padding")&&b.classList.contains("tb_dragger_top")&&n.setModulePosition(b),b.classList.remove("tb_dragger_focus"),t.body.classList.remove("tb_dragger_options_open"),b=null};b.addEventListener("mouseleave",c,{once:!0});t.addEventListener("click",
c);z.document.addEventListener("click",c)})}if(null===k&&l){for(d=b.length-1;-1<d;--d)b[d].classList.contains("tb_dragger_"+e)&&b[d].getElementsByClassName("tb_apply_all")[0].classList.remove("current");this.setData(g,"checkbox_"+h+"_apply_all",!1)}}},clearEdges:function(){for(var e=f.Instances.Builder[0].el.getElementsByClassName("tb_dragger"),d=e.length-1;-1<d;--d)e[d].parentNode.removeChild(e[d])},addGutters:function(e,d){},getTabId:function(e,d,a){for(var c in e)if(void 0!==e[c].options)for(var b=
e[c].options.length-1;-1<b;--b)if(e[c].options[b].label===a&&"expand"===e[c].options[b].type){var f=e[c].options[b].options;if(void 0!==f)for(var h=f.length-1;-1<h;--h)if(void 0!==f[h].options&&void 0!==f[h].options.n)for(var l=f[h].options.n.options,k=l.length-1;-1<k;--k)if(l[k].id===d)return c}return null},addEdges:function(e,d,a,c,b){!0!==b&&this.clearEdges();if("divider"!==e){b="row"===e||"column"===e||"subrow"===e?d.get("styling"):d.get("mod_settings");for(var g=["padding","margin"],h=["top",
"left","bottom","right"],l=h.length,k=this.oneTag.length,n={},p=g.length-1;-1<p;--p)if(void 0!==this.modules[e]&&void 0!==this.modules[e][g[p]])for(var m in this.modules[e][g[p]])n[m]={s:this.modules[e][g[p]][m],t:g[p]};else n[g[p]]={s:"",t:g[p]};for(var q in n){g=t.createDocumentFragment();m=n[q].t;p=q.replace("_"+h[p],"");var r=this.getCurrentStyling(b,"checkbox_"+p+"_apply_all",d);if(r){var u=this.getCurrentStyling(b,p+"_top",d);var z=this.getCurrentStyling(b,p+"_top_unit",d)||"px";if(void 0===
u||null===u)u=""}else r=!1;for(p=l-1;-1<p;--p)if("margin"!==m||"column"!==e&&"row"!==e||"right"!==h[p]&&"left"!==h[p]){var B=t.createElement("div"),w=t.createElement("div"),C=t.createElement("span"),E=t.createElement("span"),D=m+"-"+h[p],v="margin"!==m||"column"!==e&&"row"!==e?q+"_"+h[p]:D;!1===r&&(u=this.getCurrentStyling(b,v,d),z=this.getCurrentStyling(b,v+"_unit",d)||"px",void 0===u||null===u)&&(u="");C.className="tb_dragger_value";E.className="tb_dragger_arrow";w.className="tb_dragger_options";
B.setAttribute("data-v",u);B.setAttribute("data-u",z);B.setAttribute("data-id",v);B.setAttribute("data-prop",D);""!==u&&(C.textContent=u+z);B.className="tb_dragger tb_disable_sorting tb_dragger_"+h[p]+" tb_dragger_"+m;"%"!==z&&this.setValueByType(B);w.appendChild(C);w.appendChild(E);B.appendChild(w);g.appendChild(B)}r=""===n[q].s?[a]:a.querySelectorAll(n[q].s);for(p=r.length-1;-1<p;--p){w=r[p].tagName;B=null;C=r[p];if("DIV"===w||"SPAN"===w||"A"===w)C.classList.add("tb_has_edge"),C.appendChild(g);
else{E=null;for(m=k-1;-1<m;--m)if(this.oneTag[m]===w){C=r[p].parentNode;C.classList.add("tb_has_edge");C.appendChild(g);E=!0;B=r[p].offsetWidth;break}null===E&&(C.classList.add("tb_has_edge"),C.appendChild(g))}w=C.children;for(m=w.length-1;-1<m;--m)"%"===w[m].getAttribute("data-u")&&this.setValueByType(w[m]),null!==B&&(w[m].classList.contains("tb_dragger_top")||w[m].classList.contains("tb_dragger_bottom"))&&(w[m].style.width=B+"px")}}!0===f.ActionBar.isHoverMode&&"row"!==e&&(d=null,"column"===e?"module"!==
c&&(d=a.classList.contains("sub_column")?a.closest(".module_subrow"):a.closest(".module_row")):d="subrow"===e||"module"===c||a.classList.contains("tb_module_front")?a.closest(".module_column"):a.closest(".tb_module_front"),null!==d&&(void 0===c&&(c="row"!==e&&"column"!==e&&"subrow"!==e?"module":null),e=f.Models.Registry.lookup(d.getAttribute("data-cid")),a=e.get("elType"),"module"===a&&(a=e.get("mod_name")),this.addEdges(a,e,d,c,!0)))}},optionsClick:function(e){f.ActionBar.disable=!0;e.preventDefault();
e.stopPropagation();this.addEdgesOptions(e.target.closest(".tb_dragger_options"));e="LI"===e.target.nodeName?e.target:e.target.parentNode;"LI"===e.nodeName&&(!e.classList.contains("current")&&e.parentNode.classList.contains("tb_dragger_units")?this.changeUnit(e):e.parentNode.classList.contains("tb_dragger_types")&&this.changeApply(e));f.ActionBar.disable=null},changeUnit:function(e){var d=e.closest(".tb_dragger_lightbox").closest(".tb_dragger"),a=d.classList.contains("tb_dragger_padding")?"padding":
"margin",c=d.classList.contains("tb_dragger_top")||d.classList.contains("tb_dragger_bottom")?"s":"e",b=d.getElementsByClassName("tb_dragger_types")[0].getElementsByClassName("current")[0];e=e.textContent;var g=d.parentNode,h=g.getAttribute("data-cid"),l=g.children;b=void 0===b?!1:b.classList.contains("tb_apply_all")?"all":"opposite";h||(h=D(g).closest("[data-cid]")[0].getAttribute("data-cid"));g=f.Models.Registry.lookup(h);h=g.get("elType");"module"===h&&(h=g.get("mod_name"));h=this.getSelector(h,
a,d.getAttribute("data-id").replace(/_left|_right|_bottom|_top$/ig,""));t.body.classList.add("tb_dragger_drag");d.classList.add("tb_dragger_dragged");for(var k=l.length-1;-1<k;--k)if(l[k].classList.contains("tb_dragger_"+a)){if("opposite"===b){if(!("s"===c&&(l[k].classList.contains("tb_dragger_top")||l[k].classList.contains("tb_dragger_bottom"))||"e"===c&&(l[k].classList.contains("tb_dragger_left")||l[k].classList.contains("tb_dragger_right"))))continue}else if("all"!==b&&l[k]!==d)continue;var n=
l[k].getAttribute("data-v"),p=""!==n?this.convert(a,l[k],l[k].getAttribute("data-u"),e,n):"";n=l[k].getElementsByClassName("tb_dragger_units")[0].children;l[k].setAttribute("data-v",p);l[k].setAttribute("data-u",e);this.setLivePreview(g,l[k].getAttribute("data-prop"),p+e,h);this.setData(g,l[k].getAttribute("data-id"),p,e,l[k].getAttribute("data-prop"));this.setValueByType(l[k]);l[k].getElementsByClassName("tb_dragger_value")[0].textContent=""===p?"":p+e;for(p=n.length-1;-1<p;--p)n[p].textContent===
e?n[p].classList.add("current"):n[p].classList.remove("current")}setTimeout(function(){for(var a=l.length-1;-1<a;--a)l[a].classList.remove("tb_dragger_dragged");t.body.classList.remove("tb_dragger_drag")},500)},changeApply:function(e){var d=e.classList.contains("tb_apply_all")?"all":"opposite",a=e.classList.contains("current"),c=e.closest(".tb_dragger");e=!1===a?c.getElementsByClassName("tb_apply_all")[0].classList.contains("current"):null;var b=c.parentNode,g=b.children,h=c.getAttribute("data-id").replace(/_left|_right|_bottom|_top$/ig,
""),l=c.getAttribute("data-v"),k=c.getAttribute("data-u"),n=c.classList.contains("tb_dragger_padding")?"padding":"margin";c=c.classList.contains("tb_dragger_top")||c.classList.contains("tb_dragger_bottom")?"s":"e";var p=I.clone(b),m=b.getAttribute("data-cid");m||(m=D(b).closest("[data-cid]")[0].getAttribute("data-cid"));var q=f.Models.Registry.lookup(m);b=D.extend(!0,{},q.get("module"===q.get("elType")?"mod_settings":"styling"));"all"===d?(this.setData(q,"checkbox_"+h+"_apply_all",!1===a?"1":!1),
!1===a&&(this.setData(q,h+"_opp_left",!1),this.setData(q,h+"_opp_top",!1))):(this.setData(q,"checkbox_"+h+"_apply_all",!1),this.setData(q,"s"===c?h+"_opp_top":h+"_opp_left",!1===a?"1":!1));for(h=g.length-1;-1<h;--h)if(g[h].classList.contains("tb_dragger_"+n)){q=g[h].getElementsByClassName("tb_dragger_lightbox")[0];q.parentNode.removeChild(q);this.addEdgesOptions(g[h]);!0===a&&(k||(k="px"),null===l||void 0===l)&&(l="");if("all"===d||!0===e)g[h].setAttribute("data-v",l),g[h].setAttribute("data-u",k);
if("all"!==d)if("s"===c&&(g[h].classList.contains("tb_dragger_top")||g[h].classList.contains("tb_dragger_bottom"))||"e"===c&&(g[h].classList.contains("tb_dragger_left")||g[h].classList.contains("tb_dragger_right")))g[h].setAttribute("data-v",l),g[h].setAttribute("data-u",k);else continue;q=g[h].getElementsByClassName("tb_dragger_units")[0].children;for(var r,t=q.length-1;-1<t;--t)q[t].textContent===k?(q[t].classList.add("current"),r=q[t]):q[t].classList.remove("current");this.changeUnit(r)}this.onChange();
null!==f.activeModel&&f.activeModel.cid===m||this.addUndo(p,b)},setValueByType:function(e){var d=e.getAttribute("data-prop"),a=e.classList.contains("tb_dragger_margin")?"margin":"padding",c=e.getAttribute("data-v"),b=e.getAttribute("data-u");"%"===b&&(c=this.getRealPercent(e,c),b="px");"padding"===a?e.style[d]=""===c?"":c+b:""===c?e.style.height=e.style.width=e.style[d]="":(a=e.classList.contains("tb_dragger_top")||e.classList.contains("tb_dragger_bottom")?"height":"width",e.style[a]=(0<c?c:-c)+b,
e.style[d]=-c+b)},getRealPercent:function(e,d){return parseFloat(d*e.closest(".tb_has_edge").parentNode.offsetWidth/100)},convert:function(e,d,a,c,b){if(0==b)return 0;if(a===c)return b;var f;d=d.closest(".tb_has_edge");e="em"===c||"em"===a?parseFloat(F.getComputedStyle(d).fontSize):null;d="%"===c||"%"===a?d.parentNode.offsetWidth:null;"px"===a?"em"===c?f=+parseFloat(b/e).toFixed(2):"%"===c&&(f=parseInt(100*b/d)):"%"===a?(f=parseFloat(b*d/100),f="em"===c?+parseFloat(f/e).toFixed(2):parseInt(f)):(f=
parseFloat(b*e),"%"===c&&(f=parseFloat(100*f/d)),f=parseInt(f));return f},getCurrentStyling:function(e,d,a){var c=null;if(null!==f.activeModel&&f.activeModel.cid===a.cid){var b=I.Lightbox.$lightbox[0].querySelector("#"+d);null!==b&&(b.classList.contains("themify-checkbox")?(b=b.getElementsByClassName("tb-checkbox")[0],void 0!==b&&(c=!0===b.checked?b.value:!1)):c=b.value)}if(null===c){b=f.activeModel;var g=ThemifyConstructor.values,h=ThemifyConstructor.clicked;f.activeModel=a;ThemifyConstructor.clicked=
"styling";ThemifyConstructor.values=e;c=ThemifyConstructor.getStyleVal(d);f.activeModel=b;ThemifyConstructor.clicked=h;ThemifyConstructor.values=g}return c},setData:function(e,d,a,c,b){var g="module"===e.get("elType")?"mod_settings":"styling",h=D.extend(!0,{},e.get(g)),l={};h||(h={});if(null!==f.activeModel&&e.cid===f.activeModel.cid){var k=I.Lightbox.$lightbox[0].querySelector("#"+d);if(void 0!==b){void 0===f.liveStylingInstance.tempData[f.activeBreakPoint]&&(f.liveStylingInstance.tempData[f.activeBreakPoint]=
{});b=f.liveStylingInstance.renameProp(b);var n=f.liveStylingInstance.tempData[f.activeBreakPoint],p;for(p in n)for(var m in n[p])if(m===b){f.liveStylingInstance.tempData[f.activeBreakPoint][p][m]=a+c;break}}ThemifyConstructor.values[d]=a;ThemifyConstructor.values[d+"_unit"]=c;if(null!==k){f.hasChanged=!0;k.classList.contains("themify-checkbox")?(k=k.getElementsByClassName("tb-checkbox")[0],void 0!==k&&(k.checked=a?!0:!1,u.triggerEvent(k,"change"))):(k.value=a,k=I.Lightbox.$lightbox[0].querySelector("#"+
d+"_unit"),null!==k&&(k.value=c));return}}"desktop"!==f.activeBreakPoint?(void 0===h["breakpoint_"+f.activeBreakPoint]&&(h["breakpoint_"+f.activeBreakPoint]={}),h["breakpoint_"+f.activeBreakPoint][d]=a,c&&(h["breakpoint_"+f.activeBreakPoint][d+"_unit"]=c)):(h[d]=a,c&&(h[d+"_unit"]=c));l[g]=h;e.set(l,{silent:!0})},getSelector:function(e,d,a){return void 0!==this.modules[e]&&void 0!==this.modules[e][d]?this.modules[e][d][a]:void 0},setLivePreview:function(e,d,a,c){if(null!==f.activeModel&&e.cid===f.activeModel.cid)f.liveStylingInstance.setLiveStyle(d,
a,c);else{var b=f.activeModel,g=ThemifyConstructor.component;f.activeModel=e;ThemifyConstructor.component=e.get("elType");this.liveinstance=new N;this.liveinstance.init(!0);this.liveinstance.setLiveStyle(d,a,c);f.activeModel=b;ThemifyConstructor.component=g}},onChange:function(){setTimeout(function(){f.Utils._onResize(!0)},1500)},addUndo:function(e,d){var a=!0===f.hasChanged;f.hasChanged=!0;var c=e[0].getAttribute("data-cid"),b=f.Models.Registry.lookup(c),g=D.extend(!0,{},this.liveinstance.undoData);
b=D.extend(!0,{},"module"===b.get("elType")?b.get("mod_settings"):b.get("styling"));var h=I.clone(t.getElementsByClassName("tb_element_cid_"+c)[0]);e[0].classList.remove("tb_element_clicked");h[0].classList.remove("tb_element_clicked");f.undoManager.push(c,e,h,"save",{bsettings:d,asettings:b,styles:g,column:!1});this.liveinstance=null;f.hasChanged=a},setModulePosition:function(e){var d=f.ActionBar.prevExpand;if(null!==d&&!d.classList.contains("tb_small_action_bar")){var a=e.getElementsByClassName("tb_dragger_value")[0];
d.style.top="";void 0!==a&&null!==a.firstChild&&(a=a.getBoundingClientRect(),d.getBoundingClientRect().bottom>=a.top&&(d.style.top=e.offsetHeight/2+a.height+"px"))}},drag:function(e){if(1===e.which&&null===this.disableDrag&&!e.target.classList.contains("tb_dragger_value")&&(e.target.classList.contains("tb_dragger")||null!==e.target.closest(".tb_dragger"))){f.ActionBar.hideContextMenu();var d=e.target.closest(".tb_dragger"),a=D(d).closest("[data-cid]")[0];this.addEdgesOptions(d);if(void 0!==a){var c=
f.Models.Registry.lookup(a.getAttribute("data-cid"));if(c){var b=c.get("elType"),g="module"===b?c.get("mod_name"):b,h=[],l=null,k=null,n=null,p=e.pageY,m=e.pageX,q=0,r=null,u=null,H=null,B=[];n=null;var w=this,C=null,E,F=function(v){if(null===u){e.stopPropagation();u=!0;f.ActionBar.disable=!0;var G=d.getElementsByClassName("tb_dragger_types")[0].getElementsByClassName("current")[0];G=void 0===G?!1:G.classList.contains("tb_apply_all")?"all":"opposite";H=d.classList.contains("tb_dragger_top")||d.classList.contains("tb_dragger_bottom")?
"s":"e";n="s"===H?d.classList.contains("tb_dragger_top")?"top":"bottom":d.classList.contains("tb_dragger_left")?"left":"right";k=d.classList.contains("tb_dragger_padding")?"padding":"margin";E=D.extend(!0,{},c.get("module"===b?"mod_settings":"styling"));C=I.clone(a);q=parseFloat(d.dataset.v)||0;r=d.dataset.u;l=w.getSelector(g,k,d.getAttribute("data-id").replace("_"+n,""));void 0!==l&&""!==l&&(a=a.querySelectorAll(l),0===a.length&&(a=null));if(null!==a){t.body.classList.add("tb_drag_start");t.body.classList.add("tb_dragger_drag");
t.body.classList.add("tb_dragger_drag_"+H);z.document.body.classList.add("tb_drag_start");void 0===a[0]&&(a=[a]);for(var A=a.length-1;-1<A;--A){var x=a[A].getAttribute("data-cid")?a[A]:a[A].parentNode;x=x.children;for(var y=x.length-1;-1<y;--y)if(x[y].classList.contains("tb_dragger_"+k)){if("opposite"===G){if("s"===H&&(x[y].classList.contains("tb_dragger_left")||x[y].classList.contains("tb_dragger_right"))||"e"===H&&(x[y].classList.contains("tb_dragger_top")||x[y].classList.contains("tb_dragger_bottom")))continue}else if("all"!==
G&&!x[y].classList.contains("tb_dragger_"+n))continue;x[y].classList.add("tb_dragger_dragged");B.push(x[y].getElementsByClassName("tb_dragger_value")[0]);h.push(x[y])}}}}if(null!==a)for(A=v.clientX,y=v.clientY,v="px"===r||"%"===r?1:.1,G=d.getBoundingClientRect(),x=0,"left"===n?x=A-G.right:"right"===n?x=G.left-A:"top"===n?x=y-G.bottom:"bottom"===n&&(x=G.top-y),0<x&&(v*=2),"e"===H?A!==m&&(q=A>m?"left"===n?q+v:q-v:"left"===n?q-v:q+v):y!==p&&(q=y>p?q+v:q-v),m=A,p=y,0>q&&"padding"===k?q=0:0!==q%1&&(q=
parseFloat(q.toFixed(1))),v=q+r,A=h.length-1;-1<A;--A){G=h[A].getAttribute("data-prop");for(y=a.length-1;-1<y;--y)a[y].style[G]=v;if("margin"===k){y=h[A].classList.contains("tb_dragger_top")||h[A].classList.contains("tb_dragger_bottom")?"height":"width";x=q;var F=r;"%"===r&&(x=w.getRealPercent(h[A],q),F="px");h[A].style[y]=0>q?-x+F:x+F;h[A].style[G]=-x+F}else h[A].style[G]="%"===r?w.getRealPercent(h[A],q)+"px":v;B[A].textContent=0===q?"":v}},v=function(g){if(!0===u&&null!==a){for(var p=null,m=h.length-
1;-1<m;--m){var x=h[m].getAttribute("data-prop");w.setLivePreview(c,x,q+r,l);for(var y=a.length-1;-1<y;--y)a[y].style[x]="";0===q&&"margin"===k&&(h[m].style.width=h[m].style.height=h[m].style[x]="");h[m].setAttribute("data-v",q);h[m].setAttribute("data-u",r);h[m].classList.remove("tb_dragger_dragged");w.setData(c,h[m].getAttribute("data-id"),q,r,x);"padding"===k&&"top"===n&&"module"===b&&(p=m)}t.body.classList.remove("tb_dragger_drag_"+H);t.body.classList.remove("tb_drag_start");z.document.body.classList.remove("tb_drag_start");
t.body.classList.remove("tb_dragger_drag");null!==p&&w.setModulePosition(h[p])}t.removeEventListener("mousemove",F,{passive:!0});t.removeEventListener("mouseup",v,{once:!0,passive:!0});z.removeEventListener("mouseup",v,{once:!0,passive:!0});null!==e.target.closest(".tb_dragger_lightbox")&&null!==g.target.closest(".tb_dragger_lightbox")?(e.stopPropagation(),w.optionsClick(e)):!0===u&&(w.onChange(),null!==f.activeModel&&f.activeModel.cid===c.cid||w.addUndo(C,E),f.ActionBar.hoverCid=f.ActionBar.disable=
null);d=c=h=E=w=l=B=H=k=n=u=a=n=r=q=null};c&&(t.addEventListener("mousemove",F,{passive:!0}),t.addEventListener("mouseup",v,{once:!0,passive:!0}),z.addEventListener("mouseup",v,{once:!0,passive:!0}))}}}}};f.createStyleInstance=function(){return new N}})(jQuery,Themify,window,window.top,document,tb_app,ThemifyBuilderCommon);
