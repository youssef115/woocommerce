'use strict';(function(b,k,l,m){function c(a,b){return/touch/.test(a.type)?(a.originalEvent||a).changedTouches[0]["page"+b]:a["page"+b]}function h(a){a.find(".sub-menu, .children").first().show().css("visibility","visible");a.addClass("dropdown-open").find("> a .sub-arrow").removeClass("closed").addClass("open");a.trigger("dropdown_open")}function f(a){a.find(".sub-menu, .children").first().hide().css("visibility","hidden");a.removeClass("dropdown-open").find("> a .sub-arrow").removeClass("open").addClass("closed");
a.trigger("dropdown_close")}b.fn.themifyDropdown=function(a){return this.each(function(){b(this).hasClass("with-sub-arrow")||b(this).addClass("with-sub-arrow").find("li.menu-item-has-children > a:not(.themify_lightbox), li.page_item_has_children > a:not(.themify_lightbox)").append('<span class="sub-arrow closed" />')})};var d,e;b("body").on("touchstart",".sub-arrow, .with-sub-arrow a",function(a){a.stopPropagation();d=c(a,"X");e=c(a,"Y")}).on("click touchend",".sub-arrow",function(a){a.stopPropagation();
if(20>Math.abs(c(a,"X")-d)&&20>Math.abs(c(a,"Y")-e)){a=b(this).closest("li");var g=b(this).parents(".dropdown-open");b(this).closest(".with-sub-arrow").find("li.dropdown-open").not(g).each(function(){f(b(this))});a.hasClass("dropdown-open")?f(a):h(a)}return!1}).on("click touchend",".with-sub-arrow a",function(a){if(20>Math.abs(c(a,"X")-d)&&20>Math.abs(c(a,"Y")-e)&&"#"===b(this).attr("href"))return a.stopPropagation(),b(this).find("> .sub-arrow").click(),!1})})(jQuery,window,document);
