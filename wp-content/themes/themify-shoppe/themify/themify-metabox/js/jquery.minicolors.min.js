'use strict';(function(c){function d(a,b){var h=c('<div class="minicolors" />'),e=c.minicolors.defaults,l;if(!a.data("minicolors-initialized")){b=c.extend(!0,{},e,b);h.addClass("minicolors-theme-"+b.theme).toggleClass("minicolors-with-opacity",b.opacity);void 0!==b.position&&c.each(b.position.split(" "),function(){h.addClass("minicolors-position-"+this)});e="rgb"===b.format?b.opacity?"25":"20":b.keywords?"11":"7";a.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",
b).prop("size",e).wrap(h).after('<div class="minicolors-panel minicolors-slider-'+b.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>');b.inline||a.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>');
a.on("focus.minicolors blur.minicolors keydown.minicolors keyup.minicolors paste.minicolors",function(b){var e=b.type;if("focus"===e)f(a);else if("blur"===e){if(b=a.data("minicolors-settings"),a.data("minicolors-initialized")){e=b.keywords?c.map(b.keywords.split(","),function(a){return c.trim(a.toLowerCase())}):[];if(""!==a.val()&&-1<c.inArray(a.val().toLowerCase(),e))var h=a.val();else e=r(a.val())?v(a.val(),!0):(e=x(a.val(),!0))?t(e):null,h=null===e?b.defaultValue:"rgb"===b.format?b.opacity?v("rgba("+
e.r+","+e.g+","+e.b+","+a.attr("data-opacity")+")"):v("rgb("+e.r+","+e.g+","+e.b+")"):A(e);e=b.opacity?a.attr("data-opacity"):1;"transparent"===h.toLowerCase()&&(e=0);a.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",e);a.val(h);""===a.val()&&a.val(C(b.defaultValue,!0));a.val(z(a.val(),b.letterCase))}}else if("keydown"===e)switch(b.which){case 9:k();break;case 13:case 27:k(),a.blur()}else if("keyup"===e||"paste"===e)"keyup"===e?q(a,!0):setTimeout(function(){q(a,!0)},1)}).closest(".minicolors").on("mousedown.minicolors touchstart.minicolors",
".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(a){if(1===a.which){a.preventDefault();var b=c(this),e=document.body.contains(this)?document:top.document;n(b,a,!0);c(e).on("mousemove.minicolors touchmove.minicolors",function(a){n(b,a)}).one("mouseup.minicolors touchend.minicolors",function(){c(e).off("mousemove.minicolors touchmove.minicolors")})}}).on("click.minicolors",".minicolors-swatches li",function(a){a.preventDefault();var b=c(this);a=b.parents(".minicolors").find(".minicolors-input");
b=b.data("swatch-color");w(a,b,D(b));q(a)}).find(".minicolors-input-swatch").on("click mousedown.minicolors touchstart.minicolors",function(e){if("click"===e.type)b.inline||a.focus();else if(1===e.which)f(a);else return;e.preventDefault()});e=a.parent().find(".minicolors-panel");e.on("selectstart",function(){return!1}).end();if(b.swatches&&0!==b.swatches.length){e.addClass("minicolors-with-swatches");var d=c('<ul class="minicolors-swatches"></ul>').appendTo(e);for(l=0;l<b.swatches.length;++l){if("object"===
c.type(b.swatches[l])){e=b.swatches[l].name;var g=b.swatches[l].color}else e="",g=b.swatches[l];var m=g;g=r(g)?v(g,!0):t(x(g,!0));c('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color" title="'+e+'"></span></li>').appendTo(d).data("swatch-color",m).find(".minicolors-swatch-color").css({backgroundColor:A(g),opacity:g.a});b.swatches[l]=g}}b.inline&&a.parent().addClass("minicolors-inline");q(a,!1);a.data("minicolors-initialized",!0)}}function g(a){var b=a.parent();a.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");
b.before(a).remove()}function f(a){var b=a.parent(),h=b.find(".minicolors-panel"),e=a.data("minicolors-settings"),l=document.body.contains(a[0])?document:top.document;!a.data("minicolors-initialized")||a.prop("disabled")||b.hasClass("minicolors-inline")||b.hasClass("minicolors-focus")||(k(window.top.document),b.addClass("minicolors-focus"),h.animate?h.stop(!0,!0).fadeIn(e.showSpeed,function(){e.show&&e.show.call(a.get(0))}):(h.show(),e.show&&e.show.call(a.get(0))),c(l).on("mousedown.minicolors touchstart.minicolors",
function(a){1===a.which&&0===c(a.target).closest(".minicolors,.minicolors_wrapper").length&&(c(this).off("mousemove.minicolors touchmove.minicolors mousedown.minicolors touchstart.minicolors mouseup.minicolors touchend.minicolors"),k(this),l=null)}))}function k(a){c(".minicolors-focus",a).each(function(){var a=c(this),h=a.find(".minicolors-input"),e=a.find(".minicolors-panel"),l=h.data("minicolors-settings");e.animate?e.fadeOut(l.hideSpeed,function(){l.hide&&l.hide.call(h.get(0));a.removeClass("minicolors-focus")}):
(e.hide(),l.hide&&l.hide.call(h.get(0)),a.removeClass("minicolors-focus"))})}function n(a,b,h){var e=a.parents(".minicolors").find(".minicolors-input"),l=e.data("minicolors-settings"),c=a.find("[class$=-picker]"),d=a.offset().left,g=a.offset().top,f=Math.round(b.pageX-d),m=Math.round(b.pageY-g);h=h?l.animationSpeed:0;b.originalEvent.changedTouches&&(f=b.originalEvent.changedTouches[0].pageX-d,m=b.originalEvent.changedTouches[0].pageY-g);0>f&&(f=0);0>m&&(m=0);f>a.width()&&(f=a.width());m>a.height()&&
(m=a.height());a.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(d=75-f,g=75-m,b=Math.sqrt(d*d+g*g),d=Math.atan2(g,d),0>d&&(d+=2*Math.PI),75<b&&(b=75,f=75-75*Math.cos(d),m=75-75*Math.sin(d)),f=Math.round(f),m=Math.round(m));m={top:m+"px"};a.is(".minicolors-grid")&&(m.left=f+"px");c.animate?c.stop(!0).animate(m,h,l.animationEasing,function(){p(e,a)}):(c.css(m),p(e,a))}function p(a,b){function h(a,b){if(!a.length||!b)return null;var e=a.offset().left;var h=a.offset().top;
return{x:e-b.offset().left+a.outerWidth()/2,y:h-b.offset().top+a.outerHeight()/2}}var e=a.val();var l=a.attr("data-opacity");var c=a.parent();var d=a.data("minicolors-settings"),g=c.find(".minicolors-input-swatch");var f=c.find(".minicolors-grid");var q=c.find(".minicolors-slider"),n=c.find(".minicolors-opacity-slider");var k=f.find("[class$=-picker]");var p=q.find("[class$=-picker]"),r=n.find("[class$=-picker]");k=h(k,f);p=h(p,q);r=h(r,n);if(b.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(d.control){case "wheel":e=
f.width()/2-k.x;c=f.height()/2-k.y;f=Math.sqrt(e*e+c*c);e=Math.atan2(c,e);0>e&&(e+=2*Math.PI);75<f&&(f=75,k.x=69-75*Math.cos(e),k.y=69-75*Math.sin(e));b=m(f/.75,0,100);l=m(180*e/Math.PI,0,360);k=m(100-Math.floor(p.y*(100/q.height())),0,100);e=u({h:l,s:b,b:k});q.css("backgroundColor",u({h:l,s:b,b:100}));break;case "saturation":l=m(parseInt(k.x*(360/f.width()),10),0,360);b=m(100-Math.floor(p.y*(100/q.height())),0,100);k=m(100-Math.floor(k.y*(100/f.height())),0,100);e=u({h:l,s:b,b:k});q.css("backgroundColor",
u({h:l,s:100,b:k}));c.find(".minicolors-grid-inner").css("opacity",b/100);break;case "brightness":l=m(parseInt(k.x*(360/f.width()),10),0,360);b=m(100-Math.floor(k.y*(100/f.height())),0,100);k=m(100-Math.floor(p.y*(100/q.height())),0,100);e=u({h:l,s:b,b:k});q.css("backgroundColor",u({h:l,s:b,b:100}));c.find(".minicolors-grid-inner").css("opacity",1-k/100);break;default:l=m(360-parseInt(p.y*(360/q.height()),10),0,360),b=m(Math.floor(k.x*(100/f.width())),0,100),k=m(100-Math.floor(k.y*(100/f.height())),
0,100),e=u({h:l,s:b,b:k}),f.css("backgroundColor",u({h:l,s:100,b:100}))}l=d.opacity?parseFloat(1-r.y/n.height()).toFixed(2):1;w(a,e,l)}else g.find("span").css({backgroundColor:e,opacity:l}),B(a,e,l)}function w(a,b,h){var e=a.parent(),c=a.data("minicolors-settings");e=e.find(".minicolors-input-swatch");c.opacity&&a.attr("data-opacity",h);if("rgb"===c.format){b=r(b)?v(b,!0):t(x(b,!0));h=""===a.attr("data-opacity")?1:m(parseFloat(a.attr("data-opacity")).toFixed(2),0,1);if(isNaN(h)||!c.opacity)h=1;b=
1>=a.minicolors("rgbObject").a&&b&&c.opacity?"rgba("+b.r+", "+b.g+", "+b.b+", "+parseFloat(h)+")":"rgb("+b.r+", "+b.g+", "+b.b+")"}else r(b)&&(b=E(b)),b=z(b,c.letterCase);a.val(b);e.find("span").css({backgroundColor:b,opacity:h});B(a,b,h)}function q(a,b){var h;var e=a.parent();var l=a.data("minicolors-settings");var f=e.find(".minicolors-input-swatch");var d=e.find(".minicolors-grid"),g=e.find(".minicolors-slider"),k=e.find(".minicolors-opacity-slider"),q=d.find("[class$=-picker]"),n=g.find("[class$=-picker]"),
p=k.find("[class$=-picker]");if(r(a.val())){var w=E(a.val());(h=m(parseFloat(D(a.val())).toFixed(2),0,1))&&a.attr("data-opacity",h)}else w=z(x(a.val(),!0),l.letterCase);w||(w=z(C(l.defaultValue,!0),l.letterCase));h=F(w);var t=l.keywords?c.map(l.keywords.split(","),function(a){return c.trim(a.toLowerCase())}):[];t=""!==a.val()&&-1<c.inArray(a.val().toLowerCase(),t)?z(a.val()):r(a.val())?v(a.val()):w;b||a.val(t);if(l.opacity){var y=""===a.attr("data-opacity")?1:m(parseFloat(a.attr("data-opacity")).toFixed(2),
0,1);isNaN(y)&&(y=1);a.attr("data-opacity",y);f.find("span").css("opacity",y);b=m(k.height()-k.height()*y,0,k.height());p.css("top",b+"px")}"transparent"===a.val().toLowerCase()&&f.find("span").css("opacity",0);f.find("span").css("backgroundColor",w);switch(l.control){case "wheel":e=m(Math.ceil(.75*h.s),0,d.height()/2);f=h.h*Math.PI/180;l=m(75-Math.cos(f)*e,0,d.width());b=m(75-Math.sin(f)*e,0,d.height());q.css({top:b+"px",left:l+"px"});b=150-h.b/(100/d.height());""===w&&(b=0);n.css("top",b+"px");
g.css("backgroundColor",u({h:h.h,s:h.s,b:100}));break;case "saturation":l=m(5*h.h/12,0,150);b=m(d.height()-Math.ceil(h.b/(100/d.height())),0,d.height());q.css({top:b+"px",left:l+"px"});b=m(g.height()-h.s*(g.height()/100),0,g.height());n.css("top",b+"px");g.css("backgroundColor",u({h:h.h,s:100,b:h.b}));e.find(".minicolors-grid-inner").css("opacity",h.s/100);break;case "brightness":l=m(5*h.h/12,0,150);b=m(d.height()-Math.ceil(h.s/(100/d.height())),0,d.height());q.css({top:b+"px",left:l+"px"});b=m(g.height()-
h.b*(g.height()/100),0,g.height());n.css("top",b+"px");g.css("backgroundColor",u({h:h.h,s:h.s,b:100}));e.find(".minicolors-grid-inner").css("opacity",1-h.b/100);break;default:l=m(Math.ceil(h.s/(100/d.width())),0,d.width()),b=m(d.height()-Math.ceil(h.b/(100/d.height())),0,d.height()),q.css({top:b+"px",left:l+"px"}),b=m(g.height()-h.h/(360/g.height()),0,g.height()),n.css("top",b+"px"),d.css("backgroundColor",u({h:h.h,s:100,b:100}))}a.data("minicolors-initialized")&&B(a,t,y)}function B(a,b,h){var e=
a.data("minicolors-settings"),d=a.data("minicolors-lastChange"),c;if(!d||d.value!==b||d.opacity!==h){a.data("minicolors-lastChange",{value:b,opacity:h});if(e.swatches&&0!==e.swatches.length){d=r(b)?v(b,!0):t(b);var f=-1;for(c=0;c<e.swatches.length;++c)if(d.r===e.swatches[c].r&&d.g===e.swatches[c].g&&d.b===e.swatches[c].b&&d.a===e.swatches[c].a){f=c;break}a.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected");-1!==f&&a.parent().find(".minicolors-swatches .minicolors-swatch").eq(c).addClass("selected")}e.change&&
(e.changeDelay?(clearTimeout(a.data("minicolors-changeTimeout")),a.data("minicolors-changeTimeout",setTimeout(function(){e.change.call(a.get(0),b,h)},e.changeDelay))):e.change.call(a.get(0),b,h));a.trigger("change").trigger("input")}}function G(a){var b=c(a).attr("data-opacity");r(c(a).val())?a=v(c(a).val(),!0):(a=x(c(a).val(),!0),a=t(a));if(!a)return null;void 0!==b&&c.extend(a,{a:parseFloat(b)});return a}function H(a,b){var d=c(a).attr("data-opacity");r(c(a).val())?a=v(c(a).val(),!0):(a=x(c(a).val(),
!0),a=t(a));if(!a)return null;void 0===d&&(d=1);return b?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(d)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"}function z(a,b){return"uppercase"===b?a.toUpperCase():a.toLowerCase()}function x(a,b){a=a.replace(/^#/g,"");if(!a.match(/^[A-F0-9]{3,6}/ig)||3!==a.length&&6!==a.length)return"";3===a.length&&b&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return"#"+a}function v(a,b){a=a.replace(/[^\d,.]/g,"").split(",");a[0]=m(parseInt(a[0],10),0,255);a[1]=m(parseInt(a[1],10),0,255);
a[2]=m(parseInt(a[2],10),0,255);void 0!==a[3]&&(a[3]=m(parseFloat(a[3],10),0,1));return b?void 0!==a[3]?{r:a[0],g:a[1],b:a[2],a:a[3]}:{r:a[0],g:a[1],b:a[2]}:"undefined"!==typeof a[3]&&1>=a[3]?"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")":"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function C(a,b){return r(a)?v(a):x(a,b)}function m(a,b,d){a<b&&(a=b);a>d&&(a=d);return a}function r(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?!0:!1}function D(a){return(a=
a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===a.length?a[4]:"1"}function E(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}function A(a){var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];c.each(b,function(a,
e){1===e.length&&(b[a]="0"+e)});return"#"+b.join("")}function u(a){var b,d;var e=Math.round(a.h);var c=Math.round(255*a.s/100);a=Math.round(255*a.b/100);if(0===c)e=b=d=a;else{c=(255-c)*a/255;var f=e%60*(a-c)/60;360===e&&(e=0);60>e?(e=a,d=c,b=c+f):120>e?(b=a,d=c,e=a-f):180>e?(b=a,e=c,d=c+f):240>e?(d=a,e=c,b=a-f):300>e?(d=a,b=c,e=c+f):360>e?(e=a,b=c,d=a-f):d=b=e=0}return A({r:Math.round(e),g:Math.round(b),b:Math.round(d)})}function F(a){a=t(a);var b={h:0,s:0,b:0},d=Math.max(a.r,a.g,a.b),e=d-Math.min(a.r,
a.g,a.b);b.b=d;b.s=0!==d?255*e/d:0;b.h=0!==b.s?a.r===d?(a.g-a.b)/e:a.g===d?2+(a.b-a.r)/e:4+(a.r-a.g)/e:-1;b.h*=60;0>b.h&&(b.h+=360);b.s*=100/255;b.b*=100/255;0===b.s&&(b.h=360);return b}function t(a){a=parseInt(-1<a.indexOf("#")?a.substring(1):a,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}}c.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,
position:"bottom",show:null,showSpeed:100,theme:"default",swatches:[]}};c.extend(c.fn,{minicolors:function(a,b){switch(a){case "destroy":return c(this).each(function(){g(c(this))}),c(this);case "hide":return k(),c(this);case "opacity":if(void 0===b)return c(this).attr("data-opacity");c(this).each(function(){q(c(this).attr("data-opacity",b))});return c(this);case "rgbObject":return G(c(this),"rgbaObject"===a);case "rgbString":case "rgbaString":return H(c(this),"rgbaString"===a);case "settings":if(void 0===
b)return c(this).data("minicolors-settings");c(this).each(function(){var a=c(this).data("minicolors-settings")||{};g(c(this));c(this).minicolors(c.extend(!0,a,b))});return c(this);case "show":return f(c(this).eq(0)),c(this);case "value":if(void 0===b)return c(this).val();c(this).each(function(){"object"===typeof b&&null!==b?(void 0!==b.opacity&&c(this).attr("data-opacity",m(b.opacity,0,1)),b.color&&c(this).val(b.color)):c(this).val(b);q(c(this))});return c(this);default:return"create"!==a&&(b=a),
c(this).each(function(){d(c(this),b)}),c(this)}}})})(jQuery);
(function(c){window.themifyColorManager={colorSwatches:{},initilized:!1,init:function(){if(!this.initilized){for(var d=Object.keys(themifyCM.colors),c=d.length,f=0;f<c;f++)this.colorSwatches[d[f]]=themifyCM.colors[d[f]];this.initilized=!0}},toRgba:function(d){return d.color.replace("rgb","rgba").replace(")",","+d.opacity+")")},toColorsArray:function(){for(var d=[],c=Object.keys(this.colorSwatches),f=c.length-1;0<=f;--f)d.push(this.toRgba(this.colorSwatches[c[f]]));d.length||(d=["#FFF"]);return d},
initColorPicker:function(){var d=window.top.document.querySelector(".minicolors-focus .minicolors-panel");if(null===d.querySelector(".tb_swatches_container")){var c=document.createElement("div");c.className="tb_swatches_container";c.addEventListener("click",this.initClick.bind(this));c.appendChild(d.querySelector(".minicolors-swatches"));var f=c.querySelectorAll(".minicolors-swatch"),k=Object.keys(this.colorSwatches);k=k.reverse();for(var n=f.length-1;-1<n;--n){if(!k.length){f[n].parentNode.removeChild(f[n]);
break}var p=document.createElement("span");p.className="tb_delete_swatch ti-close";f[n].appendChild(p);p="undefined"!==typeof this.colorSwatches[k[n]].uid?this.colorSwatches[k[n]].uid:this.UID()+n;f[n].dataset.uid=this.colorSwatches[k[n]].uid=p}f=document.createElement("div");k=document.createElement("div");f.className="tb_add_swatch ti-plus";c.appendChild(f);k.className="tb_cm_dropdown_icon ti-import";k.setAttribute("tabIndex","-1");k.appendChild(this.makeImportExportDropdown());c.appendChild(k);
d.appendChild(c);"undefined"!==typeof SimpleBar&&new SimpleBar(d.querySelector(".minicolors-swatches"))}},makeImportExportDropdown:function(){var c=document.createElement("div"),g=document.createElement("ul"),f=document.createElement("li"),k=document.createElement("li");c.className="tb_cm_dropdown";f.className="tb_cm_import";f.innerText=themifyCM.labels.import;g.appendChild(f);k.className="tb_cm_export";k.innerText=themifyCM.labels.export;g.appendChild(k);c.appendChild(g);return c},UID:function(){return(Math.random().toString(36).substring(2)+
(new Date).getTime().toString(36)).substring(0,5)},initClick:function(c){c.preventDefault();var d=c.target,f=d.classList;f.contains("tb_delete_swatch")?this.deleteSwatch(c):f.contains("tb_add_swatch")?this.addSwatch():f.contains("tb_cm_export")?(d.parentNode.parentNode.parentNode.blur(),document.location.assign(themifyCM.exportColorsURL)):f.contains("tb_cm_import")&&(d.parentNode.parentNode.parentNode.blur(),this.importColors("colors"))},importColors:function(d){var g=window.top.document.getElementsByClassName("themify_cm_input");
g.length?(g=g[0],g.dataset.type=d):(g=document.createElement("input"),g.type="file",g.dataset.type=d,g.className="themify_cm_input",g.addEventListener("change",function(d){var f=d.target.files[0],g=new FormData,p=d.target.dataset.type;g.append("file",f,f.name);g.append("action","themify_import_colors");g.append("tb_load_nonce",themifyCM.nonce);g.append("type",p);c.ajax({url:themifyCM.ajax_url,type:"POST",data:g,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(c){if("SUCCESS"===
c.status)if("colors"===p){themifyColorManager.colorSwatches=c.colors;f=window.top.document.querySelectorAll(".tb_swatches_container .minicolors-swatch");for(var d=f.length-1;0<=d;--d)f[d].parentNode.removeChild(f[d]);var f=Object.keys(themifyColorManager.colorSwatches),g=f.length;for(d=0;d<g;d++)themifyColorManager.addSwatchHtml(themifyColorManager.colorSwatches[f[d]].color,themifyColorManager.colorSwatches[f[d]].opacity,f[d])}else if("gradients"===p){var k=ThemifyBuilderCommon.Lightbox.$lightbox.find(".tb_gradient_container").first().data("themifyGradient");
f=Object.keys(themifyCM.gradients);for(d=f.length-1;0<=d;--d)k.removeSwatch(f[d]);themifyCM.gradients=c.colors;f=Object.keys(themifyCM.gradients);g=f.length;for(d=0;d<g;d++)k.addSwatch(themifyCM.gradients[f[d]])}alert(c.msg)}})}));g.click()},deleteSwatch:function(d){d.preventDefault();d.stopPropagation();d=d.target.parentNode.dataset.uid;for(var c=window.top.document.querySelectorAll('[data-uid="'+d+'"]'),f=c.length-1;0<=f;--f)c[f].parentNode.removeChild(c[f]);delete this.colorSwatches[d];this.updateColorSwatches("colors")},
updateColorSwatches:function(d){c.ajax({type:"POST",url:themifyCM.ajax_url,dataType:"json",data:{action:"themify_save_colors",type:d,tb_load_nonce:themifyCM.nonce,colors:"colors"===d?this.colorSwatches:themifyCM.gradients}})},addSwatch:function(){var c=window.top.document.querySelector(".minicolors-focus .minicolors-input"),g=this.hex2Rgb(c.value);c=c.dataset.opacity;var f=!1;if(null===g)return!1;for(var k=Object.keys(this.colorSwatches),n=k.length-1;0<=n;--n)if(this.colorSwatches[k[n]].color.replace(/\s/g,
"")===g&&parseFloat(this.colorSwatches[k[n]].opacity)===parseFloat(c)){f=!0;break}f||(f=this.UID(),this.addSwatchHtml(g,c,f),this.colorSwatches[f]={color:g,opacity:c,uid:f},this.updateColorSwatches("colors"))},addSwatchHtml:function(c,g,f){function d(d){var f=document.createElement("li"),k=document.createElement("span");f.className="minicolors-swatch minicolors-sprite";f.dataset.uid=d;f.dataset.swatchColor=c.replace(")",", "+g+")").replace("rgb","rgba");k.className="minicolors-swatch-color";k.style.backgroundColor=
c;k.style.opacity=g;f.appendChild(k);d=document.createElement("span");d.className="tb_delete_swatch ti-close";f.appendChild(d);return f}var n=window.top.document.querySelectorAll(".tb_swatches_container .minicolors-swatches .simplebar-content");n=0===n.length?window.top.document.querySelectorAll(".tb_swatches_container .minicolors-swatches"):n;for(var p=n.length-1;0<=p;--p)n[p].insertBefore(d(f),n[p].firstChild);n=null},hex2Rgb:function(c){return(c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?
"rgb("+parseInt(c[1],16)+","+parseInt(c[2],16)+","+parseInt(c[3],16)+")":null}};window.themifyColorManager.init()})(jQuery,window,document);
